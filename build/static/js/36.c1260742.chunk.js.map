{"version":3,"sources":["views/vendors/add_vendor.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["AddVendor","props","validateForm","errors","valid","Object","values","forEach","val","length","_handleKeyDown","e","key","submit","state","name","initials","onsie_charge_applicable","user_id","match","params","id","isDisabled","bind","onChange","_callApi","then","response","status","data","users","vendor","setState","message","msg","setTimeout","event","preventDefault","console","log","this","headerdata","history","push","value","target","children","class","to","type","maxLength","onKeyDown","autoComplete","placeholder","className","onClick","onChangeOptionsPlus","Component","connect","loginDetails","_objectWithoutProperties","source","excluded","i","sourceKeys","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call"],"mappings":"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","file":"static/js/36.c1260742.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Link, NavLink } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { _callApi } from '../../Services/baseService';\n\n\nclass AddVendor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      initials: '',\n      onsie_charge_applicable:false,\n      user_id:(this.props.match.params.id) ? this.props.match.params.id : '',\n      errors: {\n        name: '',\n        onsie_charge_applicable:'',\n      initials: '',\n      },\n      isDisabled: false\n    };\n\n    this.submit = this.submit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    if (this.state.user_id != '') {\n      var headerdata=\"\";\n      var data={};\n\t\t\tvar s = _callApi(data, 'vendor/' + this.state.user_id, headerdata, 2)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tif (response.status == 200) {\n\t\t\t\t\t\tif (response.data.status === 200) {\n              var users=response.data.vendor;\n              this.setState({name:users.name,initials:users.initials,onsie_charge_applicable:users.onsie_charge_applicable});\n          \n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tthis.setState({ message: response.data.msg });\n\t\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t\t() => this.setState({ message: '' }),\n\t\t\t\t\t\t\t\t2000\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setState({ message: response.msg });\n\t\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t\t() => this.setState({ message: '' }),\n\t\t\t\t\t\t\t2000\n\t\t\t\t\t\t);\n\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n  }\n\n\n  componentDidMount() {\n  }\n\n\n  validateForm = (errors) => {\n    let valid = true;\n    Object.values(errors).forEach(\n      // if we have an error string set valid to false\n      (val) => val.length > 0 && (valid = false)\n    );\n    return valid;\n  }\n\n  submit(event) {\n    event.preventDefault();\n    console.log(this.state.isDisabled)\n    if (this.state.isDisabled === false && this.validateForm(this.state.errors)) {\n\n      this.setState({ isDisabled: true });\n      if(this.state.user_id){\n        var data={};\n       \n           data = {\n            'id':this.state.user_id,\n            \"name\":this.state.name,\n        \"initials\": this.state.initials,\n        \"onsie_charge_applicable\": this.state.onsie_charge_applicable\n           }       \n  \n        var headerdata = \"\";\n  \n        _callApi(data, 'vendor/edit', headerdata,3)\n          .then((response) => {\n            if (response.status === 200) {\n              if (response.data.status === 200) {\n                let self = this;\n                self.props.history.push('/vendors/list');\n              } else {\n                this.setState({ message: response.data.msg, isDisabled: false });\n                setTimeout(\n                  () => this.setState({ message: '' }),\n                  2000\n                );\n              }\n            } else {\n              this.setState({ message: response.msg, isDisabled: false });\n              setTimeout(\n                () => this.setState({ message: '' }),\n                2000\n              );\n            }\n          });\n      \n\n      }else{\n      var data = {\n        \"name\":this.state.name,\n        \"initials\": this.state.initials,\n        \"onsie_charge_applicable\": this.state.onsie_charge_applicable\n      }\n\n      var headerdata = \"\";\n\n      _callApi(data, 'vendor/add', headerdata)\n        .then((response) => {\n          if (response.status === 200) {\n            if (response.data.status === 200) {\n              let self = this;\n              self.props.history.push('/vendors/list');\n            } else {\n              this.setState({ message: response.data.msg, isDisabled: false });\n              setTimeout(\n                () => this.setState({ message: '' }),\n                2000\n              );\n            }\n          } else {\n            this.setState({ message: response.msg, isDisabled: false });\n            setTimeout(\n              () => this.setState({ message: '' }),\n              2000\n            );\n          }\n        });\n    }\n  }\n  }\n  onChangeOptionsPlus(value) {\n    \n    this.setState({ onsie_charge_applicable:value})\n    \n\n  }\n\n\n  onChange(event) {\n    event.preventDefault();\n    const { name, value } = event.target;\n    let errors = this.state.errors;\n\n    switch (name) {\n\n      case 'initials':\n        errors.name =\n          value.length < 2\n            ? 'Intials is required'\n            : '';\n        break;\n      case 'name':\n        errors.name =\n          value.length < 2\n            ? 'Name is required'\n            : '';\n        break;\n        \n    }\n    this.setState({ errors, [name]: value }, () => {\n\n      if (errors.name === \"\" && errors.initials === \"\") {\n        this.setState({ isDisabled: false });\n        console.log(this.state.isDisabled)\n      }\n    })\n  }\n  _handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.submit(e);\n    }\n  }\n  render() {\n    const { errors } = this.state;\n    // eslint-disable-next-line\n    const { children, ...attributes } = this.props;\n    return (\n     \n        <div class=\"dc-wrap add-vendor\">\n\t <div class=\"dc-header\">\n\t <div class=\"dch-left\">\n\t\t <h3 class=\"dc-head\">Add Vendor</h3>\n\t\t </div>\n\t\t <div class=\"dch-right\">\n\t\t<NavLink to=\"/vendors/list\"><button type=\"button\" class=\"pp-custom-btn\"><span class=\"ion-arrow-left-c\"></span>Back</button></NavLink>\t \n\t\t </div>\t \n\t </div>\n\t <div class=\"dc-body\">\n      <div class=\"sc-bg-white\">\n       <div class=\"sc-input-wrap sc-one-by-two\">\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Vendor's</label>\n              <input type=\"text\" class=\"sc-custom-form\" maxLength={25} onKeyDown={this._handleKeyDown} onChange={this.onChange} name=\"name\" autoComplete=\"name\" value={this.state.name} placeholder=\"\" />\n                {errors.name.length > 0 &&\n                  <span className='error'>{errors.name}</span>}\n            </div>\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Reservation initials</label>\n               <input type=\"text\" class=\"sc-custom-form\" maxLength={25} onKeyDown={this._handleKeyDown} onChange={this.onChange} name=\"initials\" autoComplete=\"name\" value={this.state.initials} placeholder=\"Enter initials\" />\n                {errors.initials.length > 0 &&\n                  <span className='error'>{errors.initials}</span>}\n\t\t\t  </div>\n            </div>\n\t\t  <div class=\"sc-extra\">\n        {this.state.onsie_charge_applicable?\n\t\t\t  <div class=\"check-condition active\" onClick={() => this.onChangeOptionsPlus(false)}>\n\t\t\t\t  <span class=\"check-mark\">\n\t\t\t\t  <i class=\"ion-ios-checkmark-empty\"></i></span>\n\t\t\t\t  <p class=\"condition-text\">Onsite Charge Applicable</p>\n\t\t\t  </div>\n        :\n        <div class=\"check-condition\" onClick={() => this.onChangeOptionsPlus(true)}>\n\t\t\t\t  <span class=\"check-mark\">\n\t\t\t\t  <i class=\"ion-ios-checkmark-empty\"></i></span>\n\t\t\t\t  <p class=\"condition-text\">Onsite Charge Applicable</p>\n\t\t\t  </div>\n        }\n\t\t  </div>\n          </div>   \n     </div>\n\t <div class=\"dc-footer\">\n\t \t<button type=\"button\" onClick={this.submit} class=\"pp-custom-btn\">Save</button>\n\t </div>\n\t</div>\n      \n\n    )\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  console.log(state.loginDetails);\n  return state;\n}\n\n\nexport default connect(mapStateToProps)(AddVendor);\n\n\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"sourceRoot":""}