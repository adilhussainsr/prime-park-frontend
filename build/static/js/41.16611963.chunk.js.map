{"version":3,"sources":["views/checkout/review_checkin.js"],"names":["yester","moment","subtract","disablePast","current","isAfter","ReviewCheckin","props","_onInputChangeIn","e","value","target","setState","checkin","setTimeout","calculate","_onInputChangeOut","checkout","_onInputChangeTimein","timein","_onInputChangeTimeout","timeout","calculateDays","startTime","endTime","Date","setHours","setMinutes","setSeconds","Math","ceil","_handleKeyDown","key","submit","state","vendors","carTypes","booking_time","id","match","params","receiptData","booking","customer_name","onsite_amount","mobile_number","plate_number","reservation_id","passengers","payment_mode","overstay_charges","reservation_charges","days","overstay_days","car_type_id","reservation","vendor_id","carType","disablePastDt","disablePastDts","errors","numberPassengers","data","_callApi","then","response","status","types","d","receipt","slot","parking","display_slot","pick_up_time","reservation_time","extra_passenger_charges","total_amount","yesterdays","yesterday","bind","onChange","getCarType","number","test","event","preventDefault","name","this","length","validMobileNumber","isDisabled","find","item","onsiteAmount","parseInt","extraPassengerCharge","vendor","parkingCharges","check_in","format","check_out","time_in","time_out","dateTime","dateTime1","reservationTime","bookingTime","pickupTime","val","msg","preBookingCharges","preBookingDays","dailyCharges","onsite_charges","regular_charges","calculated_charges","pre_booking_charges","pre_booking_days","parking_id","hours","is_checked_out","time","momentObj","console","log","toJSON","history","push","pathname","elements","i","isLoaded","class","type","onKeyDown","className","map","disabled","onsie_charge_applicable","createElements","dateFormat","input","open","isValidDate","timeFormat","onClick","onChangeEdit","readOnly","src","logo","hourly_overstay_charges","sign","Component","connect"],"mappings":"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","file":"static/js/41.16611963.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport { _callApi } from '../../Services/baseService';\nimport Datetime from 'react-datetime';\nimport \"react-datetime/css/react-datetime.css\";\nimport logo from '../../img/logo.png';\nimport moment from 'moment';\n\n\nconst defaultProps = {\n  initialPage: 1,\n  pageSize: 10\n}\nconst yester = moment().subtract(1, 'day');\n  const disablePast = current => {\n    return current.isAfter(yester);\n  };\nconst timeConvertCoef = 1000 * 60 * 60;\nconst maxFreePassengers = 4;\nconst chargesExtraPerPassenger = 10;\nconst twentyFour = 24;\nconst two = 2;\n\nclass ReviewCheckin extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      vendors: [],\n      carTypes: [],\n      booking_time:'',\n      id: (this.props.match.params.id) ? this.props.match.params.id : '',\n      receiptData: {},\n      booking: {},\n      customer_name: '',\n      onsite_amount: '0',\n      mobile_number: '',\n      plate_number: '',\n      reservation_id: '',\n      passengers: 1,\n      payment_mode:'',\n      overstay_charges: 0,\n      reservation_charges: 0,\n      days: 0,\n      overstay_days: 0,\n      car_type_id: '',\n      reservation: 'Yes',\n      checkin: {},\n      checkout: {},\n      timein: {},\n      timeout: {},\n      vendor_id: '',\n      carType: {},\n      disablePastDt:disablePast\n      ,disablePastDts:disablePast,\n      errors: {\n        customer_name: '',\n        onsite_amount: '',\n        mobile_number: '',\n        plate_number: '',\n        vendor_id: '',\n        reservation_id: '',\n        passengers: 1,\n        car_type_id: '',\n        reservation: '',\n        checkin: '',\n        checkout: '',\n       \n        timeout: '',\n      },\n      numberPassengers: 5,\n\n    }\n    var headerdata = \"\";\n    var data = {};\n    _callApi(data, '/cartype/', headerdata, 2)\n      .then((response) => {\n        if (response.status === 200) {\n          if (response.data.status === 200) {\n            this.setState({\n              carTypes: response.data.types\n            });\n          }\n        } else {\n\n\n        }\n\n      });\n    _callApi(data, '/vendor/', headerdata, 2)\n      .then((response) => {\n        if (response.status === 200) {\n          if (response.data.status === 200) {\n            this.setState({\n\n              vendors: response.data.vendors,\n            });\n          }\n          // console.log(response.data.users)\n        } else {\n\n\n        }\n\n      });\n\n    var s = _callApi(data, 'booking/receipt/' + this.state.id, headerdata, 2)\n      .then((response) => {\n        if (response.status == 200) {\n          if (response.data.status === 200) {\n            var d = response.data.receipt;\n            // console.log(\"**********************************\")\n            // console.log(d)\n            this.setState({\n              receiptData: d,\n              customer_name: d.customer_name,\n              onsite_amount: d.onsite_amount,\n              mobile_number: d.mobile_number,\n              plate_number: d.plate_number,\n              reservation_id: d.reservation_id,\n              passengers: d.passengers,\n              id: d.id,\n              vendor_id: d.vendor_id,\n              slot: d.parking?d.parking.display_slot:null,\n              car_type_id: d.car_type_id,\n              checkout: new Date(d.pick_up_time),\n              checkin: new Date(d.reservation_time),\n              extra_passenger_charges: d.extra_passenger_charges,\n              total_amount: d.total_amount,\n              overstay_charges: d.overstay_charges,\n              payment_mode:d.payment_mode,\n              days: d.days,\n              overstay_days: d.overstay_days,\n              timeout: new Date(d.pick_up_time),\n              reservation_charges: d.reservation_charges,\n              timein: new Date(d.reservation_time),\n              booking_time:new Date(d.booking_time)\n            })\n\n            const yesterdays = moment(new Date());\n      // console.log(yesterdays)\n       var disablePastDt = current => {\n         return current.isAfter(yesterdays);\n       };\n\n       const yesterday = moment(new Date(d.reservation_time)).subtract(1, 'day');;\n       // console.log(yesterday)\n        var disablePastDts = current => {\n          return current.isAfter(yesterday);\n        };\n       // console.log(disablePastDts)\n      this.setState({disablePastDt,disablePastDts})\n            if (d.reservation_id) {\n              this.setState({ reservation: 'Yes' })\n            } else {\n              this.setState({ reservation: 'No' })\n            }\n            // this.calculate();\n\n          }\n        }\n      })\n    this.submit = this.submit.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.calculate = this.calculate.bind(this);\n    this.getCarType = this.getCarType.bind(this)\n\n  }\n  _onInputChangeIn = e => {\n\n    const value = e.target ? e.target.value : e;\n    // console.log(e)\n\n    this.setState({ checkin: value }, () => {\n      setTimeout(() => this.calculate(), 100);\n    })\n\n\n  }\n  _onInputChangeOut = e => {\n    const value = e.target ? e.target.value : e;\n    // console.log(e)\n    this.setState({ checkout: value }, () => {\n      setTimeout(() => this.calculate(), 100);\n    })\n  }\n  _onInputChangeTimein = e => {\n    const value = e.target ? e.target.value : e;\n    // console.log(e)\n    this.setState({ timein: value }, () => {\n      setTimeout(() => this.calculate(), 100);\n    })\n\n  }\n  _onInputChangeTimeout = e => {\n    const value = e.target ? e.target.value : e;\n    // console.log(value)\n    this.setState({ timeout: value }, () => {\n      setTimeout(() => this.calculate(), 100);\n    })\n\n  }\n\n  validMobileNumber(number){\n\n    var val = number;\n    if (/^\\d{10}$/.test(val)) {\n        // value is ok, use it\n        return false;\n    } else {\n       \n        \n        return true;\n    }\n  }\n  onChange(event) {\n    event.preventDefault();\n    const { name, value } = event.target;\n    let errors = this.state.errors;\n\n    switch (name) {\n\n      case 'customer_name':\n        errors.customer_name =\n          value.length < 2\n            ? 'Name is required'\n            : '';\n        break;\n      case 'plate_number':\n        errors.plate_number =\n          value.length < 2\n            ? 'Plate number is required'\n            : '';\n        break;\n      case 'reservation_id':\n        errors.reservation_id =\n          value.length < 2\n            ? 'Reservation id is required'\n            : '';\n        break;\n\n      case 'mobile_number':\n        errors.mobile_number =\n          value.length < 2 || this.validMobileNumber(value)\n            ? 'Valid Mobile number is required'\n            : '';\n        break; \n        case 'passengers':\n        errors.passengers =\n          value.length==0\n            ? 'Passenger is required'\n            : '';\n        break;\n\n    }\n    this.setState({ errors, [name]: value }, () => {\n      if(name==\"vendor_id\"){\n        this.setState({onsite_amount:0})\n      }\n      setTimeout(() => this.calculate(), 100);\n      this.setState({ errors });\n      if (errors.customer_name === \"\" && this.state.customer_name != \"\" && errors.onsite_amount === \"\" &&\n        errors.mobile_number === \"\" && this.state.mobile_number != \"\"\n        && errors.plate_number === \"\" && this.state.plate_number != \"\" && errors.reservation_id === \"\"\n      ) {\n        this.setState({ isDisabled: false });\n        // console.log(this.state.isDisabled)\n      }\n    })\n  }\n  getCarType() {\n\n\n    var headerdata = \"\";\n    var data = {};\n    var s = _callApi(data, 'cartype/' + this.state.car_type_id, headerdata, 2)\n      .then((response) => {\n        if (response.status == 200) {\n          if (response.data.status === 200) {\n            this.setState({ carType: response.data.carType });\n\n          } else {\n\n          }\n        } else {\n\n\n        }\n      });\n\n\n  }\n  calculate() {\n    var booking = this.state.receiptData;\n\n    const carType = this.state.carTypes.find(item => item.id == this.state.car_type_id);\n\n    let onsiteAmount = parseInt(this.state.onsite_amount) || 0;\n    let extraPassengerCharge = 0;\n    let overStayCharges = 0;\n    let overstayCharges = 0;\n    let overstayDays=0;\n    let vendor = null;\n    if (this.state.vendor_id) {\n      vendor = this.state.vendors.find(item => item.id == this.state.vendor_id);\n      // console.log(vendor)\n    }\n    let parkingCharges = 0;\n    let days = 0;\n    const { state } = this;\n    var check_in = moment(state.checkin).format('YYYY-MM-DD')\n    var check_out = moment(state.checkout).format('YYYY-MM-DD')\n    var time_in = moment(state.timein).format('HH:mm:ss')\n    var time_out = moment(state.timeout).format('HH:mm:ss')\n    var momentObj = moment(check_in + time_in, 'YYYY-MM-DDLT');\n    // console.log(momentObj)\n    var dateTime = momentObj.format('YYYY-MM-DD HH:mm:ss');\n    var momentObj1 = moment(check_out + time_out, 'YYYY-MM-DDLT');\n    var dateTime1 = momentObj1.format('YYYY-MM-DD HH:mm:ss');\n    let reservationTime = new Date(dateTime) || new Date();\n    let bookingTime =  null\n    let pickupTime = new Date(dateTime1);\n    if(booking.booking_time==null){\n      bookingTime =  null;\n    }else{\n      bookingTime = new Date(booking.booking_time);\n    }\n\n    if(!pickupTime) {\n      return {val: null, msg: 'Pick-up time is missing.'};\n  }\n  let preBookingDays = 0;\n\n  let preBookingCharges = 0;\n  let hours=0;\n  let dailyCharges = 0;\n\n  if(bookingTime && bookingTime < reservationTime) {\n      preBookingDays = this.calculateDays(bookingTime, reservationTime);\n  }\n\n  if(!vendor/* || (vendor && !vendor.onsie_charge_applicable)*/) {\n      dailyCharges = carType.regular_charges;\n  } else {\n      if(carType.onsite_charges) {\n          dailyCharges = carType.onsite_charges;\n      }\n  }\n  days = this.calculateDays(reservationTime, pickupTime);\n  if(days <= 0) {\n      return {val: null, msg: 'Invlid reservation and(or) pick-up time.'};\n  }\n  parkingCharges = days * dailyCharges;\n  preBookingCharges = preBookingDays * carType.regular_charges;\n\n\n    if(state.passengers > maxFreePassengers) {\n        extraPassengerCharge = (state.passengers - maxFreePassengers) * chargesExtraPerPassenger;\n    }\n    // console.log(state.passengers)\n    // console.log(extraPassengerCharge)\n\n    let parking = booking.parking\n    if(!parking) {\n        return {val: null, msg: 'Parking slot unavailable.'};\n    }\n\n\n    booking.extra_passenger_charges = extraPassengerCharge;\n    booking.calculated_charges = parkingCharges + overStayCharges;\n    booking.pre_booking_charges = preBookingCharges;\n    booking.pre_booking_days = preBookingDays;\n    booking.total_amount = parkingCharges + extraPassengerCharge + parseInt(onsiteAmount) + preBookingCharges;\n    booking.parking_id = parking.id;\n    booking.onsite_amount = onsiteAmount;\n    booking.passengers = this.state.passengers;\n    booking.carType = carType;\n    booking.vendor = vendor;\n    booking.days = days;\n    booking.payment_mode=this.state.payment_mode;\n    booking.overstay_charges = overstayCharges;\n    booking.overstay_days = overstayDays;\n    booking.hours=hours;\n    this.setState({ receiptData: booking })\n    // console.log(booking)\n  }\n\n  \n  submit(event) {\n    event.preventDefault();\n    if(this.state.is_checked_out)\n    var value = this.state.time;\n    // console.log(value)\n    var data = {};\n    const { state } = this;\n    var check_in = moment(state.checkin).format('YYYY-MM-DD')\n    var check_out = moment(state.checkout).format('YYYY-MM-DD')\n    var time_in = moment(state.timein).format('HH:mm:ss')\n    var time_out = moment(state.timeout).format('HH:mm:ss')\n    var momentObj = moment(check_in + time_in, 'YYYY-MM-DDLT');\n    console.log(momentObj)\n    var dateTime = momentObj.format('YYYY-MM-DD HH:mm:ss');\n    var momentObj1 = moment(check_out + time_out, 'YYYY-MM-DDLT');\n    var dateTime1 = momentObj1.format('YYYY-MM-DD HH:mm:ss');\n\n    data = this.state.receiptData;\n    data.reservation_time=new Date(dateTime).toJSON();\n    data.pick_up_time= new Date(dateTime1).toJSON();\n    data.customer_name = this.state.customer_name;\n    data.mobile_number = this.state.mobile_number;\n    data.car_type_id = this.state.car_type_id;\n    data.reservation_id = this.state.reservation_id;\n    data.plate_number = this.state.plate_number;\n    data.passengers = this.state.passengers;\n\n\n\n\n    var headerdata = \"\";\n    var s = _callApi(data, 'booking/editbooking', headerdata, 3)\n      .then((response) => {\n        if (response.status == 200) {\n          if (response.data.status === 200) {\n            // console.log(response.data)\n            var self = this;\n            self.props.history.push({\n              pathname: '/checkout/checkout_receipt/' + this.state.id,\n\n            })\n          }\n        }\n      })\n  }\n  calculateDays = (startTime, endTime) => {\n    if(!startTime) {\n        startTime = new Date();\n    } else {\n        startTime = new Date(startTime);\n    }\n\n    if(!endTime || endTime < startTime) {\n        return null;\n    }\n    endTime = new Date(endTime);\n\n    startTime.setHours(0);\n    startTime.setMinutes(0);\n    startTime.setSeconds(0);\n    endTime.setHours(0);\n    endTime.setMinutes(0);\n    endTime.setSeconds(0);\n\n    let days = Math.ceil((endTime - startTime) / (1000 * 60 * 60 * 24)) + 1;\n    return days;\n};\n  createElements(number) {\n    var elements = [];\n    for (var i = 1; i <= number; i++) {\n      elements.push(<option value={i}>{i} </option>);\n    }\n    return elements;\n  }\n  _handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.submit(e);\n    }\n  }\n  onChangeEdit(value) {\n\n    this.setState({ payment_mode: value }, () => {\n      setTimeout(() => this.calculate(), 100);\n    })\n}\n  render() {\n    var { isLoaded, carTypes, vendors, errors } = this.state;\n\n    return (\n\n\n      <div class=\"dc-wrap edit-plate-number\">\n        <div class=\"dc-header\">\n          <div class=\"dch-left\">\n            <h3 class=\"dc-head\">Plate Number</h3>\n          </div>\n          <div class=\"dch-right\">\n          </div>\n        </div>\n        <div class=\"dc-body\">\n          <div class=\"sc-input-wrap sc-one-by-two\">\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Customer's name</label>\n              <input type=\"text\" class=\"sc-custom-form\" name=\"customer_name\" onKeyDown={this._handleKeyDown} onChange={this.onChange} value={this.state.customer_name} />\n              {errors.customer_name.length > 0 &&\n                <span className='error'>{errors.customer_name}</span>}\n            </div>\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Mobile No.</label>\n              <input type=\"text\" class=\"sc-custom-form\" name=\"mobile_number\" onKeyDown={this._handleKeyDown} onChange={this.onChange} value={this.state.mobile_number} />\n              {errors.mobile_number.length > 0 &&\n                <span className='error'>{errors.mobile_number}</span>}\n            </div>\n          </div>\n          <div class=\"sc-input-wrap sc-one-by-two\">\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Car Type</label>\n              <div class=\"sc-select-wrap\">\n                <select class=\"sc-custom-form\" name=\"car_type_id\" value={this.state.car_type_id} onKeyDown={this._handleKeyDown} onChange={this.onChange} >\n\n                  <option value=\"\">Select</option>  {carTypes.length > 0 ?\n                    carTypes.map((carType, i) => (\n                      <option value={carType.id}>{carType.type}</option>\n\n                    )) : ''}\n                </select>\n                <span class=\"ion-ios-arrow-down select-drop-icon\"></span>\n              </div>\n              {errors.car_type_id.length > 0 &&\n                <span className='error'>{errors.car_type_id}</span>}\n            </div>\n\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Reservation Status</label>\n              <div class=\"sc-select-wrap\">\n                <select disabled={true} class=\"sc-custom-form\" name=\"reservation\" value={this.state.reservation} onKeyDown={this._handleKeyDown} onChange={this.onChange}  >\n                  <option value=\"Yes\">Yes</option>\n                  <option value=\"No\">No</option>\n                </select>\n                <span class=\"ion-ios-arrow-down select-drop-icon\"></span>\n              </div>\n            </div>\n          </div>\n          {(this.state.reservation_id==null || this.state.reservation_id==\"\")?\n            <div class=\"sc-input-wrap\">\n            \n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Plate Number</label>\n              <input type=\"text\" class=\"sc-custom-form\" value={this.state.plate_number} name=\"plate_number\" onKeyDown={this._handleKeyDown} onChange={this.onChange} />\n\n              {errors.plate_number.length > 0 &&\n                <span className='error'>{errors.plate_number}</span>}\n            </div>\n          </div>\n          :\n          <div class=\"sc-input-wrap sc-one-by-two\">\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Reservation ID</label>\n              <input type=\"text\" class=\"sc-custom-form\" name=\"reservation_id\" onKeyDown={this._handleKeyDown} onChange={this.onChange} value={this.state.reservation_id} />\n              {errors.reservation_id.length > 0 &&\n                <span className='error'>{errors.reservation_id}</span>}\n            </div>\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Plate Number</label>\n              <input type=\"text\" class=\"sc-custom-form\" value={this.state.plate_number} name=\"plate_number\" onKeyDown={this._handleKeyDown} onChange={this.onChange} />\n\n              {errors.plate_number.length > 0 &&\n                <span className='error'>{errors.plate_number}</span>}\n            </div>\n          </div>\n  }\n      {this.state.receiptData.reservation_id!==\"\"?\n     \n          <div class=\"sc-input-wrap sc-one-by-two\">\n        {this.state.receiptData.vendor && this.state.receiptData.vendor.onsie_charge_applicable==true ?\n              <div class=\"sc-input\">\n                <label class=\"sc-label\">Onsite Amount Paid</label>\n                <input type=\"text\" class=\"sc-custom-form\" value={this.state.onsite_amount} name=\"onsite_amount\" onKeyDown={this._handleKeyDown} onChange={this.onChange} />\n                {errors.onsite_amount.length > 0 &&\n                  <span className='error'>{errors.onsite_amount}</span>}\n              </div>\n              :''}\n        \n            <div class=\"sc-input\">\n              <label class=\"sc-label\">No. of Passengers</label>\n\n              <div class=\"sc-select-wrap\">\n                <select class=\"sc-custom-form\" value={this.state.passengers} name=\"passengers\" onKeyDown={this._handleKeyDown} onChange={this.onChange} >\n                  <option>Select</option>\n                  {this.createElements(10)}\n                </select>\n                <span class=\"ion-ios-arrow-down select-drop-icon\"></span>\n\n              </div>\n              <p class=\"sc-notice sc-error\">Additional Charges will apply on Passengers above 4.</p>\n              {errors.passengers.length > 0 &&\n                <span className='error'>{errors.passengers}</span>}\n            </div>\n          </div>\n                :  <div class=\"sc-input-wrap \">\n      \n                \n              <div class=\"sc-input\">\n                <label class=\"sc-label\">No. of Passengers</label>\n  \n                <div class=\"sc-select-wrap\">\n                  <select class=\"sc-custom-form\" value={this.state.passengers} name=\"passengers\" onKeyDown={this._handleKeyDown} onChange={this.onChange} >\n                    <option>Select</option>\n                    {this.createElements(10)}\n                  </select>\n                  <span class=\"ion-ios-arrow-down select-drop-icon\"></span>\n  \n                </div>\n                <p class=\"sc-notice sc-error\">Additional Charges will apply on Passengers above 4.</p>\n                {errors.passengers.length > 0 &&\n                  <span className='error'>{errors.passengers}</span>}\n              </div>\n            </div>}\n          {(this.state.vendor_id==null || this.state.vendor_id==\"\")?\n''\n          :\n          <>\n          <div class=\"sc-input-wrap sc-one-by-two\">\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Vendor Name</label>\n              <div class=\"sc-select-wrap\">\n                <select class=\"sc-custom-form\" value={this.state.vendor_id} name=\"vendor_id\" onKeyDown={this._handleKeyDown} onChange={this.onChange} >\n                  <option>Select</option>\n                  {vendors.length > 0 ?\n                    vendors.map((vendor, i) => (\n                      <option value={vendor.id}>{vendor.name}</option>\n\n                    )) : ''}\n                </select>\n                <span class=\"ion-ios-arrow-down select-drop-icon\"></span>\n                {errors.vendor_id.length > 0 &&\n                  <span className='error'>{errors.vendor_id}</span>}\n              </div>\n            </div>\n            <div class=\"sc-input\">\n              <label class=\"sc-label\">Booking Date</label>\n              <div class=\"sc-select-wrap\">\n              <input type=\"text\" class=\"sc-custom-form\" value={moment(this.state.booking_time).format('DD/MM/YYYY')}  />\n              </div>\n            </div>\n\n          </div>\n          </>\n  }\n          <div class=\"card-by-card\">\n            <div class=\"card-left card-w-70\">\n              <div class=\"sc-input-wrap sc-bg-gray\">\n                <label class=\"sc-label\">Date & Time</label>\n                <div class=\"sc-input\">\n                  <div class=\"one-row-by-two\">\n                    <div class=\"sc-input-col\">\n                      <label class=\"sc-label\">Check-In Date</label>\n                      <Datetime dateFormat={true} input={false} open={true}  isValidDate={this.state.disablePastDt}  value={this.state.checkin} onChange={this._onInputChangeIn} timeFormat={false} />\n\n\n                    </div>\n                    <div class=\"sc-input-col\">\n                      <label class=\"sc-label\">Check-Out Date</label>\n                      <Datetime dateFormat={true} input={false} open={true}  isValidDate={this.state.disablePastDts} value={this.state.checkout} onChange={this._onInputChangeOut} timeFormat={false} />\n\n                    </div>\n                  </div>\n                  </div>\n                  <div class=\"sc-input\">\n                  <div class=\"one-row-by-two\">\n                    <div class=\"sc-input-col\">\n                      <label class=\"sc-label\">Check-In Time</label>\n                      <Datetime dateFormat={false} input={false} open={true}    value={this.state.timein} onChange={this._onInputChangeTimein} timeFormat={true} />\n\n                    </div>\n                    <div class=\"sc-input-col\">\n                      <label class=\"sc-label\">Check-Out Time</label>\n                      <Datetime dateFormat={false} input={false} open={true} value={this.state.timeout} onChange={this._onInputChangeTimeout} timeFormat={true} />\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"dc-header\">\n                <div class=\"dch-left\">\n                  <h3 class=\"dc-head\">Payment Mode</h3>\n                </div>\n                <div class=\"dch-right toggle-btn\">\n                  {this.state.payment_mode==\"Cash\"?\n                  <>\n                  <button type=\"button\" class=\"pp-custom-btn\">Cash</button>\n                  <button type=\"button\" class=\"pp-custom-btn pp-deactive\" onClick={() => this.onChangeEdit('Card')}>Card</button>\n                  </>\n                  :\n                  <>\n                  <button type=\"button\" class=\"pp-custom-btn pp-deactive\" onClick={() => this.onChangeEdit('Cash')}>Cash</button>\n                  <button type=\"button\" class=\"pp-custom-btn\" >Card</button>\n                  </>\n  }\n                </div>\n              </div>\n              <div class=\"sc-input-wrap sc-bg-gray\">\n                <div class=\"sc-input\">\n                  <div class=\"one-row-by-two\">\n                    <div class=\"sc-input-col\">\n                      <label class=\"sc-label\">Ticket ID</label>\n                      <input type=\"text\" class=\"sc-custom-form\" readOnly value={this.state.id} />\n                    </div>\n                    <div class=\"sc-input-col\">\n                      <label class=\"sc-label\">Slot No.</label>\n                      <input type=\"text\" class=\"sc-custom-form\" readOnly value={this.state.slot?this.state.slot:'-'} />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"card-right card-w-30\">\n              <div class=\"sc-bg-white\">\n                <div class=\"cpanel-header\">\n                  <h4>Billing Details</h4>\n                  <div class=\"cpanel-logo\">\n                    <img src={logo} />\n                  </div>\n                </div>\n                <div class=\"cpanel-body\">\n                  <div class=\"cpanel-row\">\n                    <div class=\"cr-left\">\n                      <p>Onsite amount charges</p>\n                    </div>\n                    <div class=\"cr-right\">\n                      <h4> {this.state.receiptData.onsite_amount ? this.state.receiptData.onsite_amount : 0}</h4>\n                    </div>\n                  </div>\n                  <div class=\"cpanel-row\">\n                    <div class=\"cr-left\">\n                      <p>Parking Charges </p>\n                      <small>\n\n                        {\n       \n                       \n\n                        this.state.receiptData.reservation_id==\"\"?\n\n                      this.state.receiptData.hours>0?\n                      <>\n\n                             {this.state.receiptData.days} days * {this.state.receiptData.carType && \n                             this.state.receiptData.carType.onsite_charges} +\n                              {this.state.receiptData.hours}hr * \n                              {this.state.receiptData.carType && this.state.receiptData.carType.regular_charges}\n                             \n </>\n                      :\n                      <>\n                      {this.state.receiptData.days} days * ${this.state.receiptData.carType && this.state.receiptData.carType.regular_charges} \n                      \n                </>:\n                \n                \n                  this.state.receiptData.hours>0?\n                  <>\n\n                         {this.state.receiptData.days} days * {this.state.receiptData.carType && \n                         this.state.receiptData.carType.onsite_charges} +\n                          {this.state.receiptData.hours}hr * \n                          {this.state.receiptData.carType && this.state.receiptData.carType.hourly_overstay_charges}\n                         \n</>\n                  :\n                  <>\n                  {this.state.receiptData.days} days * ${this.state.receiptData.carType && this.state.receiptData.carType.onsite_charges} \n                  \n            </>\n                \n                } \n                \n              \n                 </small>\n                <small> ({(this.state.receiptData.carType && this.state.receiptData.carType.type) ? ' '+this.state.receiptData.carType.type : ''} )</small>\n                    </div>\n                    <div class=\"cr-right\">\n                      <h4>{this.state.receiptData.calculated_charges ? this.state.receiptData.calculated_charges : 0}</h4>\n                    </div>\n                  </div>\n               \n\t\t\t\t\t\t\t\t\t\t<div class=\"cpanel-row\">\n                              <div class=\"cr-left\">\n                                  <p> {Math.sign(this.state.receiptData.overstay_days)==1?'Overstay charges':'Overstay charges'}\n\t\t\t\t\t\t\t\t  </p>\n                                  <small>({this.state.receiptData.overstay_days} days)</small>\n                              </div>\n                              <div class=\"cr-right\">\n                                   <h4>{this.state.receiptData.overstay_charges?this.state.receiptData.overstay_charges:0}</h4>\n                              </div>\n                          </div>\n                  <div class=\"cpanel-row\">\n                    <div class=\"cr-left\">\n                      <p>Extra Passenger Fees</p>\n                      <small>({this.state.receiptData.passengers} Passengers)</small>\n                    </div>\n                    <div class=\"cr-right\">\n                      <h4>{this.state.receiptData.extra_passenger_charges ? this.state.receiptData.extra_passenger_charges : 0}</h4>\n                    </div>\n                  </div>\n                  {this.state.receiptData.pre_booking_days>0?\n                  <div class=\"cpanel-row\">\n                    <div class=\"cr-left\">\n                      <p>Early Check-in Charges</p>\n                      <small>({this.state.receiptData.pre_booking_days} Days * ${this.state.receiptData.carType.regular_charges})</small>\n                    </div>\n                    <div class=\"cr-right\">\n                      <h4>{this.state.receiptData.pre_booking_charges ? this.state.receiptData.pre_booking_charges : 0}</h4>\n                    </div>\n                  </div>\n                  :''}\n                </div>\n                <div class=\"cpanel-footer\">\n                  <div class=\"cpanel-row cp-bg\">\n                    <div class=\"cr-left\">\n                      <p>Total amount to pay</p>\n                    </div>\n                    <div class=\"cr-right\">\n                      <h4>$ {this.state.receiptData.total_amount}</h4>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"dc-footer\">\n          <button type=\"button\" onClick={this.submit} class=\"pp-custom-btn\">Save</button>\n        </div>\n      </div>\n\n    )\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  // console.log(state.loginDetails);\n  return state;\n}\n\n\nexport default connect(mapStateToProps)(ReviewCheckin);\n\n\n"],"sourceRoot":""}