(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[17],{1031:function(e,t,s){"use strict";s.r(t);var a=s(12),c=s(26),i=s(27),n=s(60),o=s(29),l=s(30),r=s(1),d=s(215),m=s(741),p=s(736),u=s(743),h=s.n(u),j=(s(744),s(738)),b=s.n(j),O=(RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),b()().subtract(1,"day")),x=function(e){return e.isAfter(O)},v=function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e))._onInputChange=function(e){var t=e.target?e.target.value:e,s=b()(a.state.bookingdata.reservation_time,"YYYY-MM-DDLT").format("YYYY-MM-DD HH:mm:ss"),c=b()(t).format("HH:mm:ss"),i=b()(a.state.bookingdata.pick_up_time).format("YYYY-MM-DD"),n=b()(i+c,"YYYY-MM-DDLT").format("YYYY-MM-DD HH:mm:ss");a.setState({message:""}),s<=n||a.setState({message:"Select pickup time always greater than and equal to reservation date & time"}),a.setState({time:t})},a._onInputChangeDate=function(e){var t=e.target?e.target.value:e,s=(b()(a.state.datetime,"YYYY-MM-DDLT").format("YYYY-MM-DD HH:mm:ss"),b()(t).format("YYYY-MM-DD HH:mm:ss")),c=b()(a.state.bookingdata.pick_up_time).format("YYYY-MM-DD");b()(c+s,"YYYY-MM-DDLT").format("YYYY-MM-DD HH:mm:ss");a.setState({message:""}),a.setState({datetime:t})},a.state={id:a.props.match.params.id?a.props.match.params.id:"",bookingdata:{},time:new Date,message:"",modalAccess:!1,accessPopup1:!1,accessPopup2:!1,editAccess:!0,pickuptime:!1,pickupdate:!1,disablePastDt:x,datetime:new Date},a.submit=a.submit.bind(Object(n.a)(a)),a}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.getTicket()}},{key:"getTicket",value:function(){var e=this;Object(p.a)({},"booking/checkout/"+this.state.id,"",2).then((function(t){if(200===t.status&&200===t.data.status){var s=t.data.receipt.ready_date,a=(s=s.split("T"))[0];s=s[1].split(":");var c=b()(a+" "+s[0]+" "+s[1],"YYYY-MM-DDLT").format("YYYY-MM-DD HH:mm:ss");e.setState({bookingdata:t.data.receipt,datetime:new Date(t.data.receipt.ready_date),time:c})}}))}},{key:"submit",value:function(e){var t=this;if(e.preventDefault(),0===this.state.message.length){var s,a=this.state.time,c=b()(this.state.bookingdata.pick_up_time).format("YYYY-MM-DD"),i=b()(this.state.datetime).format("YYYY-MM-DD"),n=b()(a).format("HH:mm:ss");i=i+" "+n,i=b()(i).format("YYYY-MM-DD HH:mm:ss");var o=b()(c+n,"YYYY-MM-DDLT").format("YYYY-MM-DD HH:mm:ss");s={id:this.state.id,pick_up_time:o,ready_date:i};Object(p.a)(s,"booking/editbooking","",3).then((function(e){200==e.status&&200===e.data.status&&(console.log(e.data),t.setState({pickuptime:!1,accessPopup2:!0,accessPopup1:!1,modalAccess:!0,editAccess:!0}),t.getTicket())}))}}},{key:"onChangeOptionsPlus",value:function(e){"popup1"==e?this.setState({modalAccess:!0,accessPopup1:!0}):"popup2"==e?this.setState({modalAccess:!0,accessPopup2:!0}):this.setState({modalAccess:!1,accessPopup1:!1,accessPopup2:!1})}},{key:"onChangeEdit",value:function(){this.setState({editAccess:!this.state.editAccess})}},{key:"onChangePickup",value:function(){this.setState({pickuptime:!this.state.pickuptime})}},{key:"onChangePickupDate",value:function(){this.setState({pickuptime:!this.state.pickuptime}),this.setState({pickupdate:!this.state.pickupdate})}},{key:"render",value:function(){var e=this,t=this.state,s=(t.errors,t.bookingdata);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"dashboard-wrapper",children:Object(a.jsxs)("div",{className:this.state.modalAccess?"dashboard-center-popup active":"dashboard-center-popup",children:[Object(a.jsx)("div",{className:"dp-backdrop"}),Object(a.jsx)("div",{className:"dp-content",children:Object(a.jsx)("div",{className:"dp-body",children:Object(a.jsxs)("div",{className:"dp-popup del-ven-name",children:[this.state.accessPopup1?Object(a.jsxs)("div",{className:"dp-popup car-ready",children:[Object(a.jsx)("div",{className:"popup-close",children:Object(a.jsx)("span",{className:"ion-close-round",onClick:function(){return e.onChangeOptionsPlus(!1)}})}),Object(a.jsx)("div",{className:"check-icon",children:Object(a.jsx)("span",{className:"ion-ios-checkmark-empty"})}),Object(a.jsx)("h4",{className:"popup-title",children:"Congratulations!!"}),Object(a.jsx)("p",{className:"popup-desc",children:"Your request has been submitted."}),Object(a.jsx)("p",{className:"popup-desc",children:"Your car will be ready by the time you reach."})]}):"",this.state.accessPopup2?Object(a.jsxs)("div",{className:"dp-popup request-submitted",children:[Object(a.jsx)("div",{className:"popup-close",children:Object(a.jsx)("span",{className:"ion-close-round",onClick:function(){return e.onChangeOptionsPlus(!1)}})}),Object(a.jsx)("div",{className:"check-icon",children:Object(a.jsx)("span",{className:"ion-ios-checkmark-empty"})}),Object(a.jsx)("h4",{className:"popup-title",children:"Congratulations!!"}),Object(a.jsxs)("p",{className:"popup-desc",children:["Your Ticket Id is ",Object(a.jsx)("strong",{children:this.state.id})]}),Object(a.jsx)("p",{className:"popup-desc",children:"Your car will be ready by the time you reach."})]}):""]})})})]})}),Object(a.jsxs)("div",{className:"dashboard-body full-width-body",children:[Object(a.jsx)("div",{className:"dashboard-header",children:Object(a.jsx)("div",{className:"dh-logo",children:Object(a.jsx)("img",{src:m.a})})}),Object(a.jsx)("div",{className:"dashboard-content",children:this.state.editAccess?Object(a.jsxs)("div",{className:"dc-wrap user-detail",children:[Object(a.jsxs)("div",{className:"dc-body",children:[Object(a.jsxs)("div",{className:"sub-header user-header",children:[Object(a.jsxs)("h2",{className:"sh-head",children:["Hello ",s.customer_name]}),Object(a.jsx)("p",{className:"sh-desc",children:"Your details are"})]}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("div",{className:"card-summary",children:[Object(a.jsxs)("div",{className:"card-sum-box",children:[Object(a.jsx)("p",{children:"Full Name"}),Object(a.jsx)("h4",{children:s.customer_name})]}),Object(a.jsxs)("div",{className:"card-sum-box",children:[Object(a.jsx)("p",{children:"Plate number"}),Object(a.jsx)("h4",{children:s.plate_number})]}),Object(a.jsxs)("div",{className:"card-sum-box",children:[Object(a.jsx)("p",{children:"Reservation ID"}),Object(a.jsx)("h4",{children:s.reservation_id})]})]})}),Object(a.jsxs)("div",{className:"sub-header",children:[Object(a.jsx)("h2",{className:"sh-head",children:"Pick-Up Time"}),Object(a.jsx)("p",{className:"sh-desc",children:"Your car will be ready at the scheduled time, click on modify if you want to change the timings."})]}),Object(a.jsx)("div",{className:"dch-date-fields",children:Object(a.jsxs)("div",{className:"input-d-field",children:[Object(a.jsx)("input",{type:"text",className:"sc-custom-form",placeholder:b()(s.ready_date).format("DD/MM/YYYY HH:mm:ss")}),Object(a.jsx)("span",{className:"ion-calendar"})]})})]}),Object(a.jsxs)("div",{className:"dc-footer",children:[Object(a.jsx)("button",{type:"submit",className:"pp-custom-btn pp-btn-outline",onClick:function(){return e.onChangeEdit()},children:"Modify"}),Object(a.jsx)("button",{type:"submit",className:"pp-custom-btn",onClick:function(){return e.onChangeOptionsPlus("popup1")},children:"Submit"})]})]}):this.state.pickuptime?Object(a.jsxs)("div",{className:"dc-wrap select-car-type",children:[Object(a.jsx)("div",{className:"dc-header",children:Object(a.jsx)("div",{className:"dch-left",children:Object(a.jsx)("h3",{className:"dc-head",children:this.state.pickupdate?"New Pickup Date":"New Pickup Time"})})}),Object(a.jsxs)("div",{className:"dc-body",children:[this.state.pickupdate?Object(a.jsx)("div",{class:"cartype-wrap",children:Object(a.jsx)(h.a,{dateFormat:!0,input:!1,isValidDate:this.state.disablePastDt,open:!0,value:this.state.datetime,onChange:this._onInputChangeDate,timeFormat:!1})}):Object(a.jsx)("div",{className:"cartype-wrap",children:Object(a.jsx)(h.a,{dateFormat:!1,input:!1,open:!0,value:this.state.time,onChange:this._onInputChange,timeFormat:!0})}),this.state.message.length>0?Object(a.jsx)("span",{className:"error",children:this.state.message}):"",Object(a.jsx)("div",{className:"dc-footer",children:Object(a.jsx)("button",{type:"button",onClick:function(){return e.state.pickupdate?e.onChangePickupDate():e.onChangePickup()},className:"pp-custom-btn",children:"Ok"})})]})]}):Object(a.jsxs)("div",{className:"dc-wrap user-detail edit-user",children:[Object(a.jsxs)("div",{className:"dc-body",children:[Object(a.jsxs)("div",{className:"sub-header user-header",children:[Object(a.jsxs)("h2",{className:"sh-head",children:["Hello ",s.customer_name]}),Object(a.jsx)("p",{className:"sh-desc",children:"Your details are"})]}),Object(a.jsx)("div",{className:"sc-input-wrap sc-bg-gray",children:Object(a.jsxs)("div",{className:"sc-input",children:[Object(a.jsxs)("div",{className:"one-row-by-two",children:[Object(a.jsxs)("div",{className:"sc-input-col",children:[Object(a.jsx)("label",{className:"sc-label",children:"Full Name"}),Object(a.jsx)("input",{type:"text",className:"sc-custom-form",name:"customer_name",disabled:!0,value:s.customer_name})]}),Object(a.jsxs)("div",{className:"sc-input-col",children:[Object(a.jsx)("label",{className:"sc-label",children:"Plate Number"}),Object(a.jsx)("input",{type:"text",className:"sc-custom-form",name:"plate_number",disabled:!0,value:s.plate_number})]})]}),Object(a.jsx)("div",{className:"one-row-by-two",children:Object(a.jsxs)("div",{className:"sc-input-col",children:[Object(a.jsx)("label",{className:"sc-label",children:"Car type"}),Object(a.jsx)("input",{type:"text",className:"sc-custom-form",disabled:!0,value:s.carType?s.carType.type:"NA"})]})}),Object(a.jsx)("div",{className:"one-row-by-two",children:Object(a.jsxs)("div",{className:"sc-input-col",children:[Object(a.jsx)("label",{className:"sc-label",children:"Reservation ID"}),Object(a.jsx)("input",{type:"text",className:"sc-custom-form",disabled:!0,value:s.reservation_id})]})})]})}),Object(a.jsxs)("div",{className:"sub-header",children:[Object(a.jsx)("h2",{className:"sh-head",children:"Pick-Up Time"}),Object(a.jsx)("p",{className:"sh-desc",children:"Your car will be ready at the scheduled time, click on modify if you want to change the timings."})]}),Object(a.jsxs)("div",{className:"dch-date-fields with-labels",children:[Object(a.jsxs)("div",{className:"input-d-field",onClick:function(){return e.onChangePickupDate()},children:[Object(a.jsx)("label",{className:"sc-label",children:"Pick-Up Date"}),Object(a.jsx)("input",{type:"text",className:"sc-custom-form",placeholder:b()(this.state.datetime).format("DD/MM/YYYY")}),Object(a.jsx)("span",{className:"ion-calendar"})]}),Object(a.jsxs)("div",{className:"input-d-field",onClick:function(){return e.onChangePickup()},children:[Object(a.jsx)("label",{className:"sc-label",children:"Pick-Up Time"}),Object(a.jsx)("input",{type:"text",className:"sc-custom-form",placeholder:b()(this.state.time).format("HH:mm:ss")}),Object(a.jsx)("span",{className:"ion-clock"})]})]})]}),Object(a.jsx)("div",{className:"dc-footer",children:Object(a.jsx)("button",{type:"button",onClick:this.submit,className:"pp-custom-btn",children:"Save"})})]})})]})]})}}]),s}(r.Component);t.default=Object(d.b)((function(e){return console.log(e.loginDetails),e}))(v)},736:function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));var a=s(752),c=s.n(a);function i(e,t){var s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n={_SERVERURL:"http://localhost:8000/api/v1/"},o=n;o={_SERVERURL:"https://ec2-3-87-94-18.compute-1.amazonaws.com/api/v1/"},a=""===a?{accesstoken:localStorage.getItem("accessToken"),Authorization:localStorage.getItem("accessToken"),"Access-Control-Allow-Origin":"*",crossDomain:!0}:2===a?{accesstoken:localStorage.getItem("accessToken"),Authorization:localStorage.getItem("accessToken"),"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data",crossDomain:!0}:3===a?{accesstoken:localStorage.getItem("accessToken"),Authorization:localStorage.getItem("accessToken"),"Access-Control-Allow-Origin":"*","Content-Type":"application/json",crossDomain:!0}:{"Access-Control-Allow-Origin":"*",crossDomain:!0};var l=c.a.create({baseURL:o._SERVERURL,timeout:3e4,headers:a});return 1===i&&(s=l.post(t,e).then((function(e){return e})).catch((function(e){return console.log(e.response),e.response?e.response.data:{msg:e.toString(),data:{},status:401}}))),3===i&&(s=l.put(t,e).then((function(e){return e})).catch((function(e){return e.response?e.response.data:{msg:e.toString(),data:{},status:401}}))),2===i&&(s=l.get(t,e).then((function(e){return e})).catch((function(e){return e.response?e.response.data:{msg:e.toString(),data:{},status:401}}))),4===i&&(s=l.delete(t,e).then((function(e){return e})).catch((function(e){return e.response?e.response.data:{msg:e.toString(),data:{},status:401}}))),s}},741:function(e,t,s){"use strict";t.a=s.p+"static/media/logo.a6d70cda.png"}}]);
//# sourceMappingURL=17.3a4a3142.chunk.js.map