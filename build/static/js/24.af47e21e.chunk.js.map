{"version":3,"sources":["views/pages/pickup_date.js","Services/baseService.js"],"names":["yesterday","moment","subtract","disablePastDt","current","isAfter","PickupDateSearch","props","_onInputChange","e","value","target","state","location","setState","message","console","log","reservation_date","format","time","Date","submit","bind","backButton","yesterdays","disablePastDts","this","event","preventDefault","data","vendor_id","customer_name","onsite_amount","plate_number","reservation_id","passengers","car_type_id","mobile_number","history","push","pathname","reservation_time","length","pickup_date","isLoaded","items","class","type","onClick","className","dateFormat","input","isValidDate","open","onChange","timeFormat","Component","connect","loginDetails","_callApi","url","result","headerdata","method","defaultSetting","siteSetting","process","localStorage","getItem","instance","axios","create","baseURL","_SERVERURL","timeout","headers","post","then","response","catch","error","msg","toString","status","put","get","delete"],"mappings":"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","file":"static/js/24.af47e21e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { _callApi } from \"../../Services/baseService\";\nimport Datetime from \"react-datetime\";\nimport \"react-datetime/css/react-datetime.css\";\nimport moment from \"moment\";\nconst yesterday = moment().subtract(1, \"day\");\nconst disablePastDt = (current) => {\n  return current.isAfter(yesterday);\n};\nconst defaultProps = {\n  initialPage: 1,\n  pageSize: 10,\n};\nclass PickupDateSearch extends Component {\n  constructor(props) {\n    super(props);\n    //this.props.location.state.reservation_date = '2022-10-12';\n    this.state = {\n      message: \"\",\n      time: new Date(),\n      disablePastDt: disablePastDt,\n    };\n    this.submit = this.submit.bind(this);\n    this.backButton = this.backButton.bind(this);\n  }\n  componentDidMount() {\n    const yesterdays = moment(\n      '2022-10-12'\n    ).subtract(1, \"day\");\n    console.log(yesterdays);\n    var disablePastDts = (current) => {\n      return current.isAfter(yesterdays);\n    };\n    console.log(disablePastDts);\n    this.setState({ disablePastDt: disablePastDts });\n  }\n  backButton(event) {\n    event.preventDefault();\n    const { state } = this.props.location;\n    var data = {};\n    if (state.vendor_id == 0) {\n      data = {\n        customer_name: state.customer_name,\n        onsite_amount: state.onsite_amount,\n        plate_number: state.plate_number,\n        reservation_id: state.reservation_id,\n        passengers: state.passengers,\n        car_type_id: state.car_type_id,\n        mobile_number: state.mobile_number,\n        vendor_id: state.vendor_id,\n      };\n      this.props.history.push({\n        pathname: \"/checkout/car_types\",\n        state: data, // your data array of objects\n      });\n    } else {\n      data = {\n        customer_name: state.customer_name,\n        onsite_amount: state.onsite_amount,\n        plate_number: state.plate_number,\n        reservation_id: state.reservation_id,\n        passengers: state.passengers,\n        car_type_id: state.car_type_id,\n        reservation_date: state.reservation_date,\n        reservation_time: state.reservation_time,\n        mobile_number: state.mobile_number,\n        vendor_id: state.vendor_id,\n      };\n      this.props.history.push({\n        pathname: \"/checkout/reservation_time\",\n        state: data, // your data array of objects\n      });\n    }\n  }\n\n  _onInputChange = (e) => {\n    const value = e.target ? e.target.value : e;\n    const { state } = this.props.location;\n    this.setState({ message: \"\" });\n    console.log(\n      state.reservation_date + \"<\" + moment(value).format(\"YYYY-MM-DD\")\n    );\n    if (state.reservation_date <= moment(value).format(\"YYYY-MM-DD\")) {\n      this.setState({ time: value });\n    } else {\n      this.setState({\n        message:\n          \"Select pickup date always greater than and equal to reservation date\",\n      });\n      this.setState({ time: value });\n    }\n  };\n  submit(event) {\n    event.preventDefault();\n    if (this.state.message.length == 0) {\n      var value = this.state.time;\n      var data = {};\n      const { state } = this.props.location;\n      data = {\n        customer_name: state.customer_name,\n        onsite_amount: state.onsite_amount,\n        plate_number: state.plate_number,\n        reservation_id: state.reservation_id,\n        passengers: state.passengers,\n        car_type_id: state.car_type_id,\n        pickup_date: moment(value).format(\"YYYY-MM-DD\"),\n        reservation_date: state.reservation_date,\n        reservation_time: state.reservation_time,\n        mobile_number: state.mobile_number,\n        vendor_id: state.vendor_id,\n      };\n      console.log(state);\n      this.props.history.push({\n        pathname: \"/checkout/pickup_time\",\n        state: data, // your data array of objects\n      });\n    } else {\n      this.setState({\n        message:\n          \"Select pickup date always greater than and equal to reservation date\",\n      });\n    }\n  }\n\n  render() {\n    var { isLoaded, items } = this.state;\n    // var i = ((this.state.activePageNo - 1) * this.state.count) + 1;\n\n    return (\n      <div class=\"dc-wrap select-car-type\">\n        <div class=\"dc-header\">\n          <div class=\"dch-left\">\n            <h3 class=\"dc-head\">Select Pickup Date</h3>\n          </div>\n          <div class=\"dch-right\">\n            <button\n              type=\"button\"\n              onClick={this.backButton}\n              class=\"pp-custom-btn\"\n            >\n              <span className=\"ion-arrow-left-c\"></span>Back\n            </button>\n          </div>\n        </div>\n        <div class=\"dc-body\">\n          <div class=\"cartype-wrap\">\n            <Datetime\n              dateFormat={true}\n              input={false}\n              isValidDate={this.state.disablePastDt}\n              open={true}\n              value={this.state.time}\n              onChange={this._onInputChange}\n              timeFormat={false}\n            />\n          </div>\n          {this.state.message.length > 0 ? (\n            <span class=\"error\">{this.state.message}</span>\n          ) : (\n            \"\"\n          )}\n          <div className=\"dc-footer\">\n            <button\n              type=\"button\"\n              onClick={this.submit}\n              className=\"pp-custom-btn\"\n            >\n              Ok\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state.loginDetails);\n  return state;\n}\n\nexport default connect(mapStateToProps)(PickupDateSearch);\n","import axios from 'axios';\n\n// universal methode to call api\nexport function _callApi(data, url, headerdata = '', method = 1) {\n    var result;\n\n    let defaultSetting = {\n        \"_SERVERURL\" :\"http://localhost:8000/api/v1/\",\n        // \"_SERVERURL\" :process.env.REACT_APP_API_URL,\n       }\n    let siteSetting = defaultSetting;\n    switch (process.env.REACT_APP_ENV) {\n        case \"prod\" :\n        case  \"production\":\n            siteSetting = {\n                \"_SERVERURL\" :process.env.REACT_APP_API_URL,\n             }\n            break;\n     \n        case \"dev\" :\n        case  \"development\":\n            siteSetting = {\n                \"_SERVERURL\" :process.env.REACT_APP_API_LOCAL_URL,\n            }\n            break;\n          \n        case \"local\" :\n        case  \"localhost\":\n            siteSetting = {\n                \"_SERVERURL\" :process.env.REACT_APP_API_LOCAL_URL,\n                }\n            break;\n        default:\n            siteSetting = defaultSetting;\n    }\n\n    if (headerdata === '') {\n        headerdata = {\n            'accesstoken': localStorage.getItem('accessToken'),\n            'Authorization': localStorage.getItem('accessToken'),\n            \"Access-Control-Allow-Origin\": \"*\",\n            'crossDomain': true\n        };\n    }else if(headerdata === 2) {\n        headerdata = {\n            'accesstoken': localStorage.getItem('accessToken'),\n            'Authorization': localStorage.getItem('accessToken'),\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Content-Type\": \"multipart/form-data\",\n            'crossDomain': true\n        };\n    }else if(headerdata === 3) {\n        headerdata = {\n            'accesstoken': localStorage.getItem('accessToken'),\n            'Authorization':localStorage.getItem('accessToken'),\n            \"Access-Control-Allow-Origin\": \"*\",\n            \"Content-Type\": \"application/json\",\n            'crossDomain': true\n        };\n    }\n    else{\n        headerdata = {\n           \n            \"Access-Control-Allow-Origin\": \"*\",\n            'crossDomain': true\n        };\n    }\n     const instance = axios.create({\n        baseURL: siteSetting._SERVERURL,\n        timeout: 30000,\n        headers: headerdata\n    });\n\n    if (method === 1) {\n\n      \n        // if method post\n        result = instance.post(url, data)\n            .then((response) => {\n               \n                return response;\n            })\n            .catch((error) => {\n                console.log(error.response)\n                 if(error.response){\n                    \n               return error.response.data;\n                }else{\n                    var newData={msg:error.toString(),data:{},status:401}\n                    return newData;\n                }\n            });\n    }\n    if (method === 3) {\n\n      \n        // if method post\n        result = instance.put(url, data)\n            .then((response) => {\n               \n                return response;\n            })\n            .catch((error) => {\n              \n                if(error.response){\n                    return error.response.data;\n                     }else{\n                         var newData={msg:error.toString(),data:{},status:401}\n                         return newData;\n                     }\n            });\n    }\n    if (method === 2) {\n\n        // if method get\n        result = instance.get(url, data)\n            .then((response) => {\n                return response;\n            })\n            .catch((error) => {\n                if(error.response){\n                    return error.response.data;\n                     }else{\n                         var newData={msg:error.toString(),data:{},status:401}\n                         return newData;\n                     }\n            });\n    }\n    if (method === 4) {\n\n        // if method get\n        result = instance.delete(url, data)\n            .then((response) => {\n                return response;\n            })\n            .catch((error) => {\n                if(error.response){\n                    return error.response.data;\n                     }else{\n                         var newData={msg:error.toString(),data:{},status:401}\n                         return newData;\n                     }\n            });\n    }\n     return result;\n\n}\n"],"sourceRoot":""}