{"version":3,"sources":["views/checkout/car_status.js","img/icons/edit.png"],"names":["CarStatus","props","_onInputChange","e","value","target","state","end_date","setState","message","start_date","activePageNo","accounts","_onSelectChange","item","isLoaded","parseInt","user_id","is_admin","alert","data","assigned_to","id","status","_callApi","then","response","console","log","msg","setTimeout","_onClickAccept","localStorage","getItem","_onClickNotReady","_onClickReject","_onClickReady","_onInputChangeEnd","modalAccess","items","users","count","totalCount","pageRange","Date","setDate","getDate","bind","this","pageNumber","startdate","moment","format","enddate","toJSON","page","Math","ceil","booking","class","className","dateFormat","input","onChange","timeFormat","length","style","float","map","i","showDataToUserOrNot","customer_name","reservation_id","pick_up_time","user","name","onClick","pages","activePage","itemsCountPerPage","totalItemsCount","pageRangeDisplayed","handlePageChange","align","display","marginTop","justifyContent","position","top","left","width","height","color","textAlign","margin","Component","connect","loginDetails"],"mappings":"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","file":"static/js/25.be6c3846.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport editImage from \"../../img/icons/edit.png\";\nimport { _callApi } from \"../../Services/baseService\";\nimport Datetime from \"react-datetime\";\nimport \"react-datetime/css/react-datetime.css\";\nimport Spinner from \"react-spinkit\";\n\nimport moment from \"moment\";\nimport Pagination from \"react-js-pagination\";\n//import \"bootstrap/less/bootstrap.less\";\n\nclass CarStatus extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalAccess: false,\n      items: [],\n      users: [],\n      user_id: 0,\n      count: 10,\n      totalCount: 0,\n      pageRange: 1,\n      activePageNo: 1,\n      message: \"\",\n      start_date: new Date().setDate(new Date().getDate() - 1),\n      end_date: new Date(),\n    };\n\n    this._onSelectChange = this._onSelectChange.bind(this);\n  }\n  onChangeOptionsPlus(value) {\n    this.setState({ modalAccess: value });\n  }\n  componentDidMount() {\n    this.accounts(this.state.activePageNo);\n    this.setState(\n      {\n        user_id: localStorage.getItem('user_id'),\n        is_admin: localStorage.getItem('is_admin'),\n      });\n\n      console.log(\"is admin\")\n      console.log(localStorage.getItem('is_admin'))\n  }\n  _onInputChange = (e) => {\n    const value = e.target ? e.target.value : e;\n\n    if (value > this.state.end_date) {\n      this.setState({ message: \"Start date is always less than end date\" });\n    } else {\n      this.setState({ start_date: value });\n      this.setState({ message: \"\" });\n      this.setState({ activePageNo: 1 });\n      this.accounts(this.state.activePageNo);\n    }\n  };\n\n  _onSelectChange = (e,item) => {\n    this.setState({\n      isLoaded: false\n    });\n    const value = e.target ? e.target.value : e;\n    let headerdata = \"\";\n\n    if(parseInt(this.state.user_id) !== parseInt(value) || this.state.is_admin === false){\n      this.setState({\n        isLoaded: true\n      });\n      alert('You cannot assign to other user!')\n      return false;\n    } \n    \n    const data = {\n      assigned_to: value,\n      id: item.id,\n      status: 'Accepted'\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true\n          });\n          this.accounts(this.state.activePageNo);\n\n        } else {\n          this.setState({ message: response.msg });\n          this.setState({\n            isLoaded: true\n          });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  };\n\n  _onClickAccept = (e,item) => {\n    this.setState({\n      isLoaded: false\n    });\n    const value = e.target ? e.target.value : e;\n    let headerdata = \"\";\n\n    const data = {\n      assigned_to: localStorage.getItem(\"user_id\"),\n      id: item.id,\n      status: 'Accepted'\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true\n          });\n          this.accounts(this.state.activePageNo);\n\n        } else {\n          this.setState({ message: response.msg });\n          this.setState({\n            isLoaded: true\n          });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  };\n\n  _onClickNotReady = (e,item) => {\n    this.setState({\n      isLoaded: false\n    });\n    const value = e.target ? e.target.value : e;\n    let headerdata = \"\";\n\n    const data = {\n      id: item.id,\n      status: 'Accepted'\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true\n          });\n          this.accounts(this.state.activePageNo);\n\n        } else {\n          this.setState({ message: response.msg });\n          this.setState({\n            isLoaded: true\n          });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  };\n\n  _onClickReject  = (e,item) => {\n    this.setState({\n      isLoaded: false\n    });\n    const value = e.target ? e.target.value : e;\n    let headerdata = \"\";\n\n    const data = {\n      id: item.id,\n      assigned_to: 1,\n      status: 'Pending'\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true\n          });\n          this.accounts(this.state.activePageNo);\n\n        } else {\n          this.setState({ message: response.msg });\n          this.setState({\n            isLoaded: true\n          });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  };\n\n  _onClickReady = (e,item) => {\n    this.setState({\n      isLoaded: false\n    });\n    const value = e.target ? e.target.value : e;\n    let headerdata = \"\";\n\n    const data = {\n      id: item.id,\n      status: 'Ready'\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true\n          });\n          this.accounts(this.state.activePageNo);\n\n        } else {\n          this.setState({ message: response.msg });\n          this.setState({\n            isLoaded: true\n          });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  };\n\n  \n\n  _onInputChangeEnd = (e) => {\n    const value = e.target ? e.target.value : e;\n    if (value < this.state.end_date) {\n      this.setState({ message: \"Start date is always less than end date\" });\n    } else {\n      this.setState({ end_date: value });\n      this.setState({ message: \"\" });\n      this.setState({ activePageNo: 1 });\n      this.accounts(this.state.activePageNo);\n    }\n  };\n  handlePageChange(pageNumber) {\n    this.accounts(pageNumber);\n  }\n  accounts(pageNumber) {\n  \n    this.setState({\n      isLoaded: false\n    });\n    var headerdata = \"\";\n    const startdate = moment(this.state.start_date).format(\"YYYY-MM-DD\");\n    const enddate = moment(this.state.end_date).format(\"YYYY-MM-DD\");\n\n    const data = {\n      start_date: new Date(startdate + \" 00:00:00\").toJSON(),\n      end_date: new Date(enddate + \" 23:59:59\").toJSON(),\n      page: \"\" + (pageNumber ? parseInt(pageNumber) : parseInt()),\n    };\n    this.setState({\n      activePageNo: pageNumber ? pageNumber : this.state.activePageNo,\n    });\n    _callApi(data, \"/booking/\", headerdata).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true,\n            totalCount: response.data.data.count,\n            pageRange: Math.ceil(response.data.data.count / 10),\n            items: response.data.data.booking,\n            users: response.data.data.users,\n          });\n\n          console.log(this.state.count);\n        } else {\n          this.setState({ message: response.msg });\n          this.setState({\n            isLoaded: true,\n            totalCount: 0,\n            items: [],\n            pageRange: Math.ceil(0 / 10),\n          });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  }\n\n  showDataToUserOrNot(item){\n \n    if(this.state.is_admin === 'true'){\n        return true;\n    }\n\n    if(parseInt(item.assigned_to) === parseInt(this.state.user_id)){\n         return true;\n    }\n\n    if(item.status === 'Pending'){\n      return true;\n    }\n\n\n    return false;\n\n  }\n\n  render() {\n    var { isLoaded, items, users } = this.state;\n    return (\n      <div class=\"dc-wrap dashboard-car-status\">\n        <div class=\"dc-header\">\n          <div class=\"dch-left\">\n            <h3 class=\"dc-head\">Car Status</h3>\n          </div>\n          <div class=\"dch-right\">\n            <div className=\"dch-date-fields\">\n              <div className=\"dch-d-from-to\">\n                <p className=\"dch-d-head\">From</p>\n\n                <Datetime\n                  dateFormat={true}\n                  input={true}\n                  value={this.state.start_date}\n                  onChange={this._onInputChange}\n                  timeFormat={false}\n                />\n              </div>\n              <div className=\"dch-d-from-to\">\n                <p className=\"dch-d-head\">To</p>\n\n                <Datetime\n                  dateFormat={true}\n                  input={true}\n                  value={this.state.end_date}\n                  onChange={this._onInputChangeEnd}\n                  timeFormat={false}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        {this.state.message.length > 0 ? (\n          <span class=\"error\" style={{ float: \"right\" }}>\n            {this.state.message}\n          </span>\n        ) : (\n          \"\"\n        )}\n        <br />\n        <div class=\"dc-body\">\n          <div class=\"dcb-table-responsive\">\n            <table class=\"custom-table car-type-tbl last-center-tbl\">\n              <thead>\n                <tr>\n                  <th>\n                    <div class=\"ct-head\">\n                      <p>Customer's name</p>\n                    </div>\n                  </th>\n                  <th>\n                    <div class=\"ct-head\">\n                      <p>Reservation ID</p>\n                    </div>\n                  </th>\n                  <th>\n                    <div class=\"ct-head\">\n                      <p>Pick Up Time</p>\n                    </div>\n                  </th>\n                  <th>\n                    <div class=\"ct-head\">\n                      <p>Assigned to</p>\n                    </div>\n                  </th>\n                  <th>\n                    <div class=\"ct-head\">\n                      <p>Status</p>\n                    </div>\n                  </th>\n                  <th>\n                    <div class=\"ct-head\">\n                      <p>Action</p>\n                    </div>\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                {items.length > 0\n                  ? items.map((item, i) => (\n                      this.showDataToUserOrNot(item) === true ?\n                      <>\n                      <tr>\n                        <td>\n                          <p>{item.customer_name}</p>\n                        </td>\n                        <td>\n                          <p>{item.reservation_id}</p>\n                        </td>\n                        <td>\n                          <p>{moment(item.pick_up_time).format(\"HH:mm\")}</p>\n                        </td>\n                        <td>\n                          <div class=\"sc-input-wrap\">\n                            <div class=\"sc-input\">\n                              <div class=\"sc-select-wrap\">\n                                <select\n                                  class=\"sc-custom-form\"\n                                  onChange={(e) => this._onSelectChange(e,item)}\n                                  value={item.assigned_to}\n                                >\n                                  <option value=\"\">Select</option>\n                                  {users.length > 0\n                                    ? users.map((user, i) => ( user.name !== \"\"? <>\n                                        <option value={user.id}>\n                                          {user.name}\n                                        </option>\n                                        </>\n                                        :\"\"\n                                      ))\n                                    : \"\"}\n                                </select>\n                                <span class=\"ion-ios-arrow-down select-drop-icon\"></span>\n                              </div>\n                            </div>\n                          </div>\n                        </td>\n\n                        <td>\n                          <p>\n                            <span class={\"car-status \" + item.status}>\n                              {item.status}\n                            </span>\n                          </p>\n                        </td>\n                        <td>\n                          {item.status == \"Pending\" ? (\n                            <div class=\"car-action-wrap\">\n                              <span onClick={(e)=>{this._onClickAccept(e,item)}} class=\"car-action accept\">Accept</span>\n                            </div>\n                          ) : (\n                            \"\"\n                          )}\n                          {item.status == \"Accepted\" ? (\n                            <div class=\"car-action-wrap\">\n                              <span onClick={(e)=>{this._onClickReady(e,item)}} class=\"car-action mark-ready\">\n                                Mark Ready\n                              </span>\n                              <span onClick={(e)=>{this._onClickReject(e,item)}} class=\"car-action reject\">Reject</span>\n                            </div>\n                          ) : (\n                            \"\"\n                          )}\n                          {item.status == \"Ready\" ? (\n                            <div class=\"car-action-wrap\">\n                              <span onClick={(e)=>{this._onClickNotReady(e,item)}} class=\"car-action mark-not-ready\">\n                                Mark Not Ready\n                              </span>\n                            </div>\n                          ) : (\n                            \"\"\n                          )}\n                        </td> \n                      </tr>\n                      </>\n                      :null \n                    ))\n                  : \"\"}\n              </tbody>\n            </table>\n          </div>\n          <div class=\"custom-pagination\">\n            <Pagination\n              pages={this.state.pageRange}\n              activePage={this.state.activePageNo}\n              itemsCountPerPage={this.state.count}\n              totalItemsCount={this.state.totalCount}\n              pageRangeDisplayed={this.state.pageRange}\n              onChange={this.handlePageChange.bind(this)}\n              align=\"center\"\n            />\n          </div>\n        </div>\n        { this.state.isLoaded === false?\n        <div\n          style={{\n              display: \"flex\",\n              marginTop: \"20px\",\n              justifyContent: \"space-between\",\n              position: \"absolute\", /*position: fixed;*/\n              top: 0,\n              left: 0,\n              width: \"100%\",\n              height: \"100%\",\n              }}>\n          <Spinner name=\"double-bounce\" color=\"steelblue\" style={{ width: 100, height: 100, textAlign: \"center\", margin: \"auto\" }} />\n         \n        </div>\n        :null}\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state.loginDetails);\n  return state;\n}\n\nexport default connect(mapStateToProps)(CarStatus);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAAABHNCSVQICAgIfAhkiAAAAgdJREFUSEu1lkFWGkEQhqsaFrrSG0Q2ibiRG2SYCxhP4CTgHk8AnkBdJ8TxBpwA+gYxG3hmIzlBZCW+B11Wt/bYM2FgBod5j/eY6er6+v+nuqYR3nEF995u6QlOUGEAiDWTiuiWBIXdfXmVTI3rsk7/eDWa4XUESSZi6AzpOKzKsR1aC6ZBaoYDRNxdulgN3KZ6WJEPOi43LDPobRXnP6r9Tm5YGoiAbuZb1NIJS1O8RMATy+Kxcbc6qOSCLQNxssAm10VTnop/rr2szDiYycasIAtojnxaC5YbNPRbLOHCgU1YmSmkpcrygr6N/EAAXLuq9Pu0NqfCigAxdDIDVbN7bSGsIBCQUMfdT7KXuqmLAimArz+r/dC1NKZsk6BYgWwaFMFM937E+2SvcyvJtWNR1enxRdb9Z2NjVA/dFqMDigZFypI7fhMgA2uOPA9ADKLGSfC3e9Dfc+Xr/+taF7ORVXX4QTuCOTvePisC9KqsLlngZ5s4+ZKLAr3C4h2a20ulDMA2Cl4AscXIv/i1quqS8fae35mvP9k7aQFpoMad9wXn2E49gzgT9QcUBJ1hc1jv8YSjLDBXUWPojxHhQ5Z5JobPI2hOSXPxa9kkXtlvUaLg+0d5a+PywnQO0xtfgHhpC4W4/AFJEqBUoKR7HItgbCMo7HAzOFylzuQrqVamY8GqZFnHnwEaoFtX1O6VLgAAAABJRU5ErkJggg==\""],"sourceRoot":""}