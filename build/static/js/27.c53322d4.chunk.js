(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[27],{1055:function(e,t,s){"use strict";s.r(t);var n=s(12),a=s(742),i=s(216),o=s(26),c=s(27),r=s(60),u=s(29),l=s(30),g=s(1),m=s(215),b=s(736),h=function(e){Object(u.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).validateForm=function(e){var t=!0;return Object.values(e).forEach((function(e){return e.length>0&&(t=!1)})),t},n._handleKeyDown=function(e){"Enter"===e.key&&n.submit(e)},n.state={customer_name:"",mobile_number:"",plate_number:"",reservation_id:"",ticket_id:"",message:"",search_string:"",Suggestions:[],SuggestionsPN:[],SuggestionsMN:[],SuggestionsRI:[],SuggestionsTI:[],SuggestionData:[],errors:{customer_name:"",mobile_number:"",plate_number:"",reservation_id:"",ticket_id:""}},n.submit=n.submit.bind(Object(r.a)(n)),n.onChange=n.onChange.bind(Object(r.a)(n)),n}return Object(c.a)(s,[{key:"SuggestionDataPopup",value:function(e,t){var s=this;if(0!=this.state[e].length){console.log("-----------------");var n=Object(i.a)({},e,t);Object(b.a)(n,"booking/suggestions","").then((function(t){200==t.status&&200===t.data.status?"customer_name"==e?s.setState({Suggestions:t.data.bookings,SuggestionsPN:[],SuggestionsMN:[],SuggestionsRI:[],SuggestionsTI:[]}):"plate_number"==e?s.setState({SuggestionsPN:t.data.bookings,Suggestions:[],SuggestionsMN:[],SuggestionsRI:[],SuggestionsTI:[]}):"mobile_number"==e?s.setState({SuggestionsMN:t.data.bookings,SuggestionsPN:[],Suggestions:[],SuggestionsRI:[],SuggestionsTI:[]}):"id"==e?s.setState({SuggestionsTI:t.data.bookings,SuggestionsPN:[],SuggestionsMN:[],SuggestionsRI:[]}):"reservation_id"==e&&s.setState({SuggestionsRI:t.data.bookings,SuggestionsPN:[],SuggestionsMN:[],SuggestionsTI:[]}):s.setState({Suggestions:[],SuggestionsPN:[],SuggestionsMN:[],SuggestionsRI:[],SuggestionsTI:[],SuggestionData:[]})}))}}},{key:"componentDidMount",value:function(){}},{key:"submit",value:function(e){var t=this;e.preventDefault();var s;s={customer_name:this.state.customer_name,plate_number:this.state.plate_number,mobile_number:this.state.mobile_number,ticket_id:this.state.ticket_id,reservation_id:this.state.reservation_id};Object(b.a)(s,"booking/search","").then((function(e){if(console.log(e),200===e.status)if(200===e.data.status){var s=e.data.booking;if(s)t.props.history.push({pathname:"/checkout/checkout_review/"+s.id});else t.setState({message:"No booking data found"}),setTimeout((function(){return t.setState({message:""})}),2e3)}else t.setState({message:e.data.msg}),setTimeout((function(){return t.setState({message:""})}),2e3);else t.setState({message:"Error: "+e.statusText}),setTimeout((function(){return t.setState({message:""})}),2e3)})).catch((function(e){t.setState({message:"Error: "+e.message}),setTimeout((function(){return t.setState({message:""})}),2e3)}))}},{key:"onChange",value:function(e){var t=this;e.preventDefault();var s=e.target,n=s.name,a=s.value,o=this.state.errors;this.setState(Object(i.a)({errors:o},n,a),(function(){t.SuggestionDataPopup(n,a)}))}},{key:"onChangeOptions",value:function(e){this.setState({customer_name:e.customer_name,plate_number:e.plate_number,mobile_number:e.mobile_number,ticket_id:e.id,reservation_id:e.reservation_id,Suggestions:[],SuggestionsPN:[],SuggestionsMN:[],SuggestionsRI:[],SuggestionsTI:[],SuggestionData:[]})}},{key:"render",value:function(){var e=this,t=this.state,s=t.errors,i=t.SuggestionsTI,o=t.SuggestionsRI,c=t.SuggestionsPN,r=t.SuggestionsMN,u=t.Suggestions,l=this.props;l.children,Object(a.a)(l,["children"]);return Object(n.jsxs)("div",{className:"dc-wrap plate-number",children:[Object(n.jsxs)("div",{className:"dc-header",children:[Object(n.jsx)("div",{className:"dch-left",children:Object(n.jsx)("h3",{className:"dc-head",children:"Search Customer"})}),Object(n.jsx)("div",{className:"dch-right"})]}),Object(n.jsxs)("div",{className:"dc-body",children:[Object(n.jsxs)("div",{className:"sc-input-wrap sc-one-by-two",children:[Object(n.jsxs)("div",{className:"sc-input",children:[Object(n.jsx)("label",{className:"sc-label",children:"Customer's name"}),Object(n.jsx)("input",{type:"text",className:"sc-custom-form",autocomplete:"off",placeholder:"Search by Customer's Name",maxLength:25,onKeyDown:this._handleKeyDown,onChange:this.onChange,name:"customer_name",value:this.state.customer_name}),u.length>0?Object(n.jsx)("div",{class:"suggestion-wrap",children:u.map((function(t,s){return Object(n.jsxs)(n.Fragment,{children:["  ",Object(n.jsxs)("span",{onClick:function(){return e.onChangeOptions(t)},children:[t.customer_name,"(Ticket Number: ",t.id,")"]}),Object(n.jsx)("br",{})]})}))}):"",s.customer_name.length>0&&Object(n.jsx)("span",{className:"error",children:s.customer_name})]}),Object(n.jsxs)("div",{className:"sc-input",children:[Object(n.jsx)("label",{className:"sc-label",children:"Plate Number"}),Object(n.jsx)("input",{type:"text",className:"sc-custom-form",placeholder:"Please enter plate number",maxLength:25,onKeyDown:this._handleKeyDown,onChange:this.onChange,name:"plate_number",autocomplete:"off",value:this.state.plate_number}),c.length>0?Object(n.jsx)("div",{class:"suggestion-wrap",children:c.map((function(t,s){return Object(n.jsxs)(n.Fragment,{children:["  ",Object(n.jsxs)("span",{onClick:function(){return e.onChangeOptions(t)},children:[t.customer_name,"(Ticket Number: ",t.id,")"]}),Object(n.jsx)("br",{})]})}))}):"",s.plate_number.length>0&&Object(n.jsx)("span",{className:"error",children:s.plate_number})]})]}),Object(n.jsxs)("div",{className:"sc-input-wrap sc-one-by-two",children:[Object(n.jsxs)("div",{className:"sc-input",children:[Object(n.jsx)("label",{className:"sc-label",children:"Mobile No."}),Object(n.jsx)("input",{type:"text",className:"sc-custom-form",placeholder:"Please enter mobile number ",maxLength:25,onKeyDown:this._handleKeyDown,onChange:this.onChange,name:"mobile_number",autocomplete:"off",value:this.state.mobile_number}),r.length>0?Object(n.jsx)("div",{class:"suggestion-wrap",children:r.map((function(t,s){return Object(n.jsxs)(n.Fragment,{children:["  ",Object(n.jsxs)("span",{onClick:function(){return e.onChangeOptions(t)},children:[t.customer_name,"(Ticket Number: ",t.id,")"]}),Object(n.jsx)("br",{})]})}))}):"",s.mobile_number.length>0&&Object(n.jsx)("span",{className:"error",children:s.mobile_number})]}),Object(n.jsxs)("div",{className:"sc-input",children:[Object(n.jsx)("label",{className:"sc-label",children:"Reservation ID"}),Object(n.jsx)("input",{type:"text",className:"sc-custom-form",placeholder:"Please enter Reservation ID",maxLength:25,onKeyDown:this._handleKeyDown,onChange:this.onChange,name:"reservation_id",autocomplete:"off",value:this.state.reservation_id}),o.length>0?Object(n.jsx)("div",{class:"suggestion-wrap",children:o.map((function(t,s){return Object(n.jsxs)(n.Fragment,{children:["  ",Object(n.jsxs)("span",{onClick:function(){return e.onChangeOptions(t)},children:[t.customer_name,"(Ticket Number: ",t.id,")"]}),Object(n.jsx)("br",{})]})}))}):"",s.reservation_id.length>0&&Object(n.jsx)("span",{className:"error",children:s.reservation_id})]})]}),Object(n.jsx)("div",{className:"sc-input-wrap sc-one-by-two",children:Object(n.jsxs)("div",{className:"sc-input",children:[Object(n.jsx)("label",{className:"sc-label",children:"Ticket Id"}),Object(n.jsx)("input",{type:"text",className:"sc-custom-form",placeholder:"Please enter Ticket number",maxLength:25,onKeyDown:this._handleKeyDown,onChange:this.onChange,name:"id",autocomplete:"off",value:this.state.ticket_id}),i.length>0?Object(n.jsx)("div",{class:"suggestion-wrap",children:i.map((function(t,s){return Object(n.jsxs)(n.Fragment,{children:["  ",Object(n.jsxs)("span",{onClick:function(){return e.onChangeOptions(t)},children:[t.customer_name,"(Ticket Number: ",t.id,")"]}),Object(n.jsx)("br",{})]})}))}):"",s.ticket_id.length>0&&Object(n.jsx)("span",{className:"error",children:s.ticket_id})]})}),Object(n.jsx)("div",{className:"dc-footer",children:Object(n.jsx)("button",{type:"button",onClick:this.submit,className:"pp-custom-btn",children:"Search"})})]})]})}}]),s}(g.Component);t.default=Object(m.b)((function(e){return console.log(e.loginDetails),e}))(h)},742:function(e,t,s){"use strict";function n(e,t){if(null==e)return{};var s,n,a=function(e,t){if(null==e)return{};var s,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||(a[s]=e[s]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)s=i[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}s.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=27.c53322d4.chunk.js.map