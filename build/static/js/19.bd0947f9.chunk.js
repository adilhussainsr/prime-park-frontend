(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[19],{1045:function(e,s,t){"use strict";t.r(s);var a=t(12),c=t(742),r=t(216),n=t(26),o=t(27),i=t(60),l=t(29),m=t(30),h=t(1),d=t(214),u=t(215),p=t(736),_=t(746),b=RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),j=function(e){Object(l.a)(t,e);var s=Object(m.a)(t);function t(e){var a;if(Object(n.a)(this,t),(a=s.call(this,e)).validateForm=function(e){var s=!0;return Object.values(e).forEach((function(e){return e.length>0&&(s=!1)})),s},a._handleKeyDown=function(e){"Enter"===e.key&&a.submit(e)},a.state={name:"",phone:"",email:"",password:"",user_id:a.props.match.params.id?a.props.match.params.id:"",access:"all",inventory_report_access:!1,message:"",revenue_report_access:!1,car_movement_record_access:!1,lot_diagram_access:!1,errors:{name:"",phone:"",email:"",password:"",access:""},isDisabled:!1},a.submit=a.submit.bind(Object(i.a)(a)),a.onChange=a.onChange.bind(Object(i.a)(a)),a.onChangeaccess=a.onChangeaccess.bind(Object(i.a)(a)),""!=a.state.user_id)Object(p.a)({},"user/"+a.state.user_id,"",2).then((function(e){if(200==e.status)if(200===e.data.status){var s=e.data.user;a.setState({name:s.name,email:s.email,phone:s.phone,inventory_report_access:s.inventory_report_access,revenue_report_access:s.revenue_report_access,car_movement_record_access:s.car_movement_record_access,lot_diagram_access:s.lot_diagram_access}),console.log(a.state)}else a.setState({message:e.data.msg}),setTimeout((function(){return a.setState({message:""})}),2e3);else a.setState({message:e.msg}),setTimeout((function(){return a.setState({message:""})}),2e3)}));return a}return Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"onChangeaccess",value:function(e,s){console.log(s),this.setState(Object(r.a)({},e,s))}},{key:"submit",value:function(e){var s=this;if(e.preventDefault(),console.log(this.state.isDisabled),!1===this.state.isDisabled&&this.validateForm(this.state.errors))if(this.setState({isDisabled:!0}),this.state.user_id){var t={};t=this.state.password?{id:this.state.user_id,name:this.state.name,phone:this.state.phone,email:this.state.email,password:this.state.password,inventory_report_access:this.state.inventory_report_access?1:0,revenue_report_access:this.state.revenue_report_access?1:0,car_movement_record_access:this.state.car_movement_record_access?1:0,lot_diagram_access:this.state.lot_diagram_access?1:0}:{id:this.state.user_id,name:this.state.name,phone:this.state.phone,email:this.state.email,inventory_report_access:this.state.inventory_report_access?1:0,revenue_report_access:this.state.revenue_report_access?1:0,car_movement_record_access:this.state.car_movement_record_access?1:0,lot_diagram_access:this.state.lot_diagram_access?1:0};var a="";Object(p.a)(t,"user/edit",a,3).then((function(e){200===e.status?200===e.data.status?s.props.history.push("/users/list"):(s.setState({message:e.data.msg,isDisabled:!1}),setTimeout((function(){return s.setState({message:""})}),2e3)):(s.setState({message:e.msg,isDisabled:!1}),setTimeout((function(){return s.setState({message:""})}),2e3))}))}else{t={name:this.state.name,phone:this.state.phone,email:this.state.email,password:this.state.password,inventory_report_access:this.state.inventory_report_access?1:0,revenue_report_access:this.state.revenue_report_access?1:0,car_movement_record_access:this.state.car_movement_record_access?1:0,lot_diagram_access:this.state.lot_diagram_access?1:0},a="";Object(p.a)(t,"user/add",a).then((function(e){200===e.status?200===e.data.status?s.props.history.push("/users/list"):(s.setState({message:e.data.msg,isDisabled:!1}),setTimeout((function(){return s.setState({message:""})}),2e3)):(s.setState({message:e.msg,isDisabled:!1}),setTimeout((function(){return s.setState({message:""})}),2e3))}))}}},{key:"onChange",value:function(e){var s=this;e.preventDefault();var t=e.target,a=t.name,c=t.value,n=this.state.errors;switch(a){case"email":n.email=b.test(c)?"":"Please enter vaild Email Address";break;case"name":n.name=c.length<2?"Name is required":_.a.test(c)?"":"Only alphabets are accepted";break;case"password":n.password=c.length<6?"Password must be 6 characters long!":_.e.test(c)?"":"Pawword should have at least 1 uppercase, 1 Lowercase ,1 number and 1 special characters ";break;case"phone":n.phone=0==c.length?"Enter Phone number":c.length<10||c.length>13?"Phone number should be 10-13 characters":""}this.setState(Object(r.a)({errors:n},a,c),(function(){""===n.email&&""===n.name&&""===n.phone&&(s.setState({isDisabled:!1}),console.log(s.state.isDisabled))}))}},{key:"render",value:function(){var e=this,s=this.state.errors,t=this.props;t.children,Object(c.a)(t,["children"]);return Object(a.jsxs)("div",{className:"dc-wrap add-user",children:[Object(a.jsxs)("div",{className:"dc-header",children:[Object(a.jsx)("div",{className:"dch-left",children:Object(a.jsx)("h3",{className:"dc-head",children:this.state.user_id?"Edit User":"Add User"})}),Object(a.jsx)("div",{className:"dch-right",children:Object(a.jsxs)(d.c,{to:"/users",children:[" ",Object(a.jsxs)("button",{type:"button",className:"pp-custom-btn",children:[Object(a.jsx)("span",{className:"ion-arrow-left-c"}),"Back"]})]})})]}),Object(a.jsxs)("div",{className:"dc-body",children:[this.state.message.length>0?Object(a.jsx)("span",{class:"error",children:this.state.message}):"",Object(a.jsxs)("div",{className:"sc-bg-white",children:[Object(a.jsxs)("div",{className:"sc-input-wrap sc-one-by-two",children:[Object(a.jsxs)("div",{className:"sc-input",children:[Object(a.jsx)("label",{className:"sc-label",children:"Name"}),Object(a.jsx)("input",{type:"text",className:"sc-custom-form",maxLength:25,onKeyDown:this._handleKeyDown,onChange:this.onChange,name:"name",autoComplete:"name",value:this.state.name,placeholder:"Enter Candidate's Name"}),s.name.length>0&&Object(a.jsx)("span",{className:"error",children:s.name})]}),Object(a.jsxs)("div",{className:"sc-input",children:[Object(a.jsx)("label",{className:"sc-label",children:"Email ID"}),Object(a.jsx)("input",{type:"text",className:"sc-custom-form",name:"email",onKeyDown:this._handleKeyDown,maxLength:50,onChange:this.onChange,autoComplete:"username",value:this.state.email,placeholder:"Enter email ID"}),s.email.length>0&&Object(a.jsx)("span",{className:"error",children:s.email})]})]}),Object(a.jsx)("div",{className:"sc-input-wrap sc-one-by-two",children:Object(a.jsxs)("div",{className:"sc-input",children:[Object(a.jsx)("label",{className:"sc-label",children:"Password"}),Object(a.jsx)("input",{type:"password",className:"sc-custom-form",name:"password",onKeyDown:this._handleKeyDown,maxLength:16,onChange:this.onChange,autoComplete:"password",value:this.state.password,placeholder:"************"}),s.password.length>0&&Object(a.jsx)("span",{className:"error",children:s.password})]})}),Object(a.jsx)("div",{className:"sc-input-wrap sc-one-by-two",children:Object(a.jsxs)("div",{className:"sc-input",children:[Object(a.jsx)("label",{className:"sc-label",children:"Mobile Number"}),Object(a.jsx)("input",{type:"text",className:"sc-custom-form",name:"phone",onKeyDown:this._handleKeyDown,maxLength:13,onChange:this.onChange,autoComplete:"name",value:this.state.phone,placeholder:"Please mobile number"}),s.phone.length>0&&Object(a.jsx)("span",{className:"error",children:s.phone})]})}),Object(a.jsxs)("div",{className:"sc-checkbox-wrap",children:[Object(a.jsx)("h4",{className:"sc-label",children:"Select a section for access"}),Object(a.jsx)("div",{className:"sc-checkbox-content",children:Object(a.jsxs)("div",{className:"sc-input",children:[this.state.inventory_report_access?Object(a.jsx)("input",{type:"checkbox",name:"access",id:"inventory_report",onClick:function(){return e.onChangeaccess("inventory_report_access",!e.state.inventory_report_access)},checked:!0}):Object(a.jsx)("input",{type:"checkbox",name:"access",id:"inventory_report",onClick:function(){return e.onChangeaccess("inventory_report_access",!e.state.inventory_report_access)}}),Object(a.jsx)("label",{htmlFor:"inventory_report",children:"Inventory Report "}),Object(a.jsx)("br",{}),this.state.revenue_report_access?Object(a.jsx)("input",{type:"checkbox",name:"access",id:"revenue_report",onClick:function(){return e.onChangeaccess("revenue_report_access",!e.state.revenue_report_access)},checked:!0}):Object(a.jsx)("input",{type:"checkbox",name:"access",id:"revenue_report",onClick:function(){return e.onChangeaccess("revenue_report_access",!e.state.revenue_report_access)}}),Object(a.jsx)("label",{htmlFor:"revenue_report",children:"Revenue Report"}),Object(a.jsx)("br",{}),this.state.car_movement_record_access?Object(a.jsx)("input",{type:"checkbox",name:"access",id:"car_movement_report",onClick:function(){return e.onChangeaccess("car_movement_record_access",!e.state.car_movement_record_access)},checked:!0}):Object(a.jsx)("input",{type:"checkbox",name:"access",id:"car_movement_report",onClick:function(){return e.onChangeaccess("car_movement_record_access",!e.state.car_movement_record_access)}}),"  ",Object(a.jsx)("label",{htmlFor:"car_movement_report",children:"Car Movement Report"}),Object(a.jsx)("br",{}),this.state.lot_diagram_access?Object(a.jsx)("input",{type:"checkbox",name:"access",id:"lot_diagram",onClick:function(){return e.onChangeaccess("lot_diagram_access",!e.state.lot_diagram_access)},checked:!0}):Object(a.jsx)("input",{type:"checkbox",name:"access",id:"lot_diagram",onClick:function(){return e.onChangeaccess("lot_diagram_access",!e.state.lot_diagram_access)}}),"  ",Object(a.jsx)("label",{htmlFor:"lot_diagram",children:"Lot Diagram Report"})]})})]})]})]}),Object(a.jsx)("div",{className:"dc-footer",children:Object(a.jsx)("button",{type:"button",onClick:this.submit,className:"pp-custom-btn",children:"Submit"})})]})}}]),t}(h.Component);s.default=Object(u.b)((function(e){return console.log(e.loginDetails),e}))(j)},742:function(e,s,t){"use strict";function a(e,s){if(null==e)return{};var t,a,c=function(e,s){if(null==e)return{};var t,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],s.indexOf(t)>=0||(c[t]=e[t]);return c}(e,s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],s.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}t.d(s,"a",(function(){return a}))},746:function(e,s,t){"use strict";t.d(s,"a",(function(){return a})),t.d(s,"b",(function(){return c})),t.d(s,"e",(function(){return r})),t.d(s,"c",(function(){return n})),t.d(s,"d",(function(){return o}));var a=RegExp(/^[a-zA-Z][a-zA-Z ]+[a-zA-Z]$/i),c=(RegExp(/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i),RegExp(/^[a-zA-Z0-9]*$/i),RegExp(/^[^\w\d]*(([0-9]+.*[A-Za-z]+.*)|[A-Za-z]+.*([0-9]+.*))*$/i),RegExp(/^[^\s].+[^\s]$/i),RegExp(/^[+]*[(]{0,1}[0-9]{1,3}[)]{0,1}[-\s\./0-9]*$/g),RegExp(/^[a-zA-Z0-9\-_]{0,40}$/i)),r=RegExp(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/i),n=RegExp(/^\d*[0-9](|.\d*[0-9])?$/i),o=RegExp(/^[0-9]+(\.([0-9]{1,50})?)?$/)}}]);
//# sourceMappingURL=19.bd0947f9.chunk.js.map