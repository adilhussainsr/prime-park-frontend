{"version":3,"sources":["views/users/index.js","img/icons/edit.png","img/icons/trash-outline.svg"],"names":["ListUsers","props","deleteSubadmin","id","state","_callApi","then","response","data","status","accounts","activePageNo","setState","modalAccess","message","msg","setTimeout","isLoaded","items","searchKey","totalCount","pageRange","count","profile","search","bind","event","this","target","value","self","typingTimeout","clearTimeout","typing","console","log","is_admin","history","push","pathname","pageNumber","users","className","onClick","onChangeOptionsPlus","type","to","length","map","item","i","name","email","phone","href","src","trash","editpng","colSpan","Component","connect","loginDetails"],"mappings":"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","file":"static/js/22.13ecb53e.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Link, NavLink } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { _callApi } from '../../Services/baseService';\nimport trash  from '../../img/icons/trash-outline.svg';\nimport editpng  from '../../img/icons/edit.png';\n\nconst defaultProps = {\n  initialPage: 1,\n  pageSize: 10\n}\nclass ListUsers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoaded: true,\n      items: [],\n      searchKey: '',\n      totalCount: 0,\n      activePageNo: 1,\n      pageRange:1,\n      modalAccess: false,\n      id:'',\n      count: 10,\n      profile:{},\n      modalAccess: false, search: ''\n    }\n    this.search = this.search.bind(this);\n  }\n\n  search(event) {\n\n    this.setState({\n      searchKey: event.target.value,\n      activePageNo: 1,\n    }, function () {\n      const self = this;\n\n      if (self.state.typingTimeout) {\n        clearTimeout(self.state.typingTimeout);\n      }\n      self.setState({\n        typing: false,\n        typingTimeout: setTimeout(function () {\n          self.accounts(self.state.activePageNo);\n        }, 2000)\n      });\n\n    })\n  }\n  componentDidMount() {\n    this.accounts(this.state.activePageNo);\n    var headerdata = \"\";\n\t\tvar data = { };\n        var s = _callApi(data, \"user/profile\", headerdata,2)\n\t\t\t.then((response) => {\n\t\t\t\tif (response.status == 200) {\n\t\t\t\t\tconsole.log(response)\n          if(response.data.profile && response.data.profile.is_admin==false){\n            this.props.history.push({\n              pathname: '/dashboard'\n            })\n          }\n          console.log(response.data.profile)\n\t\t\t\t\tthis.setState({profile:response.data.profile})\n\t\t\t\t}\n\t\t\t})\n  }\n  deleteSubadmin = () => {\n    var id=this.state.id;\n    const data = {\n    }\n    var headerdata = \"\";\n    _callApi(data, 'user/delete/'+id, headerdata,4)\n      .then((response) => {\n\n        if (response.data.status === 200) {\n          this.accounts(this.state.activePageNo);\n          this.setState({modalAccess:false})\n  \n\n        } else {\n          this.setState({message:response.data.msg});\n          setTimeout(\n           () => this.setState({ message: '' }), \n           2000\n         );\n        }\n      });\n  }\n  onChangeOptionsPlus(value,id) {\n    if(id){\n    this.setState({ modalAccess: value,id:id })\n    }else{\n      this.setState({ modalAccess: value })\n    }\n\n  }\n  accounts(pageNumber) {\n    this.setState({\n      items: [],\n    });\n    var headerdata = \"\";\n    const data = {\n      //page: '' + (pageNumber ? parseInt(pageNumber) : parseInt()),     \n    }\n    // this.setState({ activePageNo: (pageNumber ? pageNumber : this.state.activePageNo) })\n     _callApi(data, '/user/', headerdata,2)\n      .then((response) => {\n        if(response.status === 200){\n        if (response.data.status === 200) {\n         this.setState({\n              isLoaded: true,\n              items: response.data.users, });\n          }\n          console.log(response.data.users)\n        } else {\n          this.setState({ message: response.msg });\n          setTimeout(\n            () => this.setState({ message: '' }),\n            2000\n          );\n          \n        }\n      \n      });\n\n\n  }\n\n  render() {\n    var { isLoaded, items } = this.state;\n    // var i = ((this.state.activePageNo - 1) * this.state.count) + 1;\n    if (!isLoaded) {\n      return <div>Loading....</div>;\n    } else {\n\n    return (\n      <>\n<div className=\"dashboard-wrapper\">\n\n<div className={this.state.modalAccess ? \"dashboard-center-popup active\" : \"dashboard-center-popup\"}>\n  <div className=\"dp-backdrop\"></div>\n  <div className=\"dp-content\">\n    <div className=\"dp-body\">\n    <div className=\"dp-popup del-ven-name\">\n\t\t <div className=\"popup-close\"><span className=\"ion-close-round\" onClick={() => this.onChangeOptionsPlus(false)}></span></div>\n\t\t <h4 className=\"popup-title\">Do you want to delete? <span>User Name</span></h4>\n\t\t\t  <div className=\"popup-action\">\n\t\t\t\t  <button type=\"button\" onClick={() => this.deleteSubadmin()}className=\"pp-custom-btn\">Yes</button>\n\t\t\t\t  <button type=\"button\" onClick={() => this.onChangeOptionsPlus(false)} className=\"pp-custom-btn pp-btn-outline\">No</button>\n\t\t\t  </div>\n\t\t  </div>\n    \n    </div>\n  </div>\n</div>\n</div>\n\n     \n      <div className=\"dc-wrap user-mgnt-table\">\n      <div className=\"dc-header\">\n       <div className=\"dch-left\">\n         <h3 className=\"dc-head\">User Management</h3>\n         </div>\n         <div className=\"dch-right\">\n         <NavLink to=\"/users/add\"><button type=\"button\" className=\"pp-custom-btn\"><span className=\"ion-plus-round\"></span>Add</button></NavLink> \n         </div>\t \n       </div>\n       <div className=\"dc-body\">\n        <div className=\"dcb-table-responsive ct-plain\">\n                <table className=\"custom-table user-mgnt-tbl last-center-tbl\">\n                  <thead>\n                    <tr>\n                      <th><div className=\"ct-head\">\n                          <p>Name</p>\n                          </div></th>\n                           <th><div className=\"ct-head\">\n                          <p>Email</p>\n                          </div></th>\n                           <th><div className=\"ct-head\">\n                          <p>Status</p>\n                          </div></th>\n                          <th><div className=\"ct-head\">\n                          <p>Mobile No.</p>\n                          </div></th>\n                        \n                          <th><div className=\"ct-head\">\n                          <p>Action</p>\n                          </div></th>\n                       \n                    </tr>\n                  </thead>\n                  <tbody>\n                  {items.length > 0 ?\n                      items.map((item, i) => (\n\n                    <tr>\n                      <td><p>{item.name}</p></td>\n               <td><p>{item.email}</p></td>\n               <td><p className=\"status st-active\">{item.status?item.status:'-'}</p></td>\n               <td><p>{item.phone}</p></td>\n              <td>\n              \n              <div className=\"ct-action\">\n                <a href=\"javascript:void(0);\" onClick={() => this.onChangeOptionsPlus(true,item.id)}><img src={trash}  /><span>Delete</span></a>\n                <NavLink to={\"/users/edit/\" + item.id}><img src={editpng} /><span>Edit</span></NavLink>\t\n              </div>\n            \n                     </td>\n              </tr>\n                      )):<tr><td colSpan=\"5\">No record found</td></tr>}\n                  </tbody>\n                </table>\n        </div>\n       </div>\t\t\n      </div>\n</>\n    )\n                      }\n  }\n}\n\n\nfunction mapStateToProps(state) {\n  console.log(state.loginDetails);\n  return state;\n}\n\n\nexport default connect(mapStateToProps)(ListUsers);\n\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAAABHNCSVQICAgIfAhkiAAAAgdJREFUSEu1lkFWGkEQhqsaFrrSG0Q2ibiRG2SYCxhP4CTgHk8AnkBdJ8TxBpwA+gYxG3hmIzlBZCW+B11Wt/bYM2FgBod5j/eY6er6+v+nuqYR3nEF995u6QlOUGEAiDWTiuiWBIXdfXmVTI3rsk7/eDWa4XUESSZi6AzpOKzKsR1aC6ZBaoYDRNxdulgN3KZ6WJEPOi43LDPobRXnP6r9Tm5YGoiAbuZb1NIJS1O8RMATy+Kxcbc6qOSCLQNxssAm10VTnop/rr2szDiYycasIAtojnxaC5YbNPRbLOHCgU1YmSmkpcrygr6N/EAAXLuq9Pu0NqfCigAxdDIDVbN7bSGsIBCQUMfdT7KXuqmLAimArz+r/dC1NKZsk6BYgWwaFMFM937E+2SvcyvJtWNR1enxRdb9Z2NjVA/dFqMDigZFypI7fhMgA2uOPA9ADKLGSfC3e9Dfc+Xr/+taF7ORVXX4QTuCOTvePisC9KqsLlngZ5s4+ZKLAr3C4h2a20ulDMA2Cl4AscXIv/i1quqS8fae35mvP9k7aQFpoMad9wXn2E49gzgT9QcUBJ1hc1jv8YSjLDBXUWPojxHhQ5Z5JobPI2hOSXPxa9kkXtlvUaLg+0d5a+PywnQO0xtfgHhpC4W4/AFJEqBUoKR7HItgbCMo7HAzOFylzuQrqVamY8GqZFnHnwEaoFtX1O6VLgAAAABJRU5ErkJggg==\"","export default __webpack_public_path__ + \"static/media/trash-outline.6b8bea40.svg\";"],"sourceRoot":""}