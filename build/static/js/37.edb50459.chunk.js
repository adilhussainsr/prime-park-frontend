(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[37],{1045:function(e,t,s){"use strict";s.r(t);var a=s(12),c=s(26),n=s(27),i=s(60),o=s(29),d=s(30),r=s(1),l=s(214),u=s(215),j=(s(739),s(736)),h=s(738),b=s.n(h),p=(s(769),s(770),s(455),s(771),s(64)),m=s.n(p),O=s(760),g=s.n(O),x=function(){m()(".btnsm").click()},v=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).viewMoreFunc=function(){a.setState({activePageNo:a.state.activePageNo+1},(function(){a.accounts(a.state.activePageNo)}))},a.handleChange=function(e,t){a.assigUser(e,t)},a.handleChangeMarkReady=function(e,t){a.markCarReady(t)},a.handleChangeMarkNotReady=function(e,t){a.markCarNotReady(t)},a.handleChangeMarkRject=function(e,t){a.markCarReject(t)},a.showModal=function(){x()},a.hideModal=function(){x()},a.showModalForRecentTime=function(){console.log("showModalForRecentTime");var e=a.state.items,t=0,s=0,c=0;e.map((function(e,n){return t=b()().diff(b()(e.pick_up_time)),console.log(b()().diff(b()(e.pick_up_time))),s=Math.abs(t),c=s/1e3,c/=60,c=parseInt(c),console.log(c),e.reservation_id,a.showModal(),!1}))},a.snoozeNotification=function(){alert("snoozeNotification")},a.seeNotification=function(){alert("snoozeNotification")},a._onClickAccept=function(e,t){a.setState({isLoaded:!1});var s={id:t.id,status:"Accepted",item:t};Object(j.a)(s,"/app/modifyreq","",1).then((function(e){200===e.status&&(200===e.data.status?(console.log(e.data.data),a.setState({isLoaded:!0}),a.accounts(a.state.activePageNo)):(a.setState({message:e.msg}),a.setState({isLoaded:!0}),setTimeout((function(){return a.setState({message:""})}),2e3)))}))},a.state={modalAccess:!1,items:[],users:[],activePageNo:0,adminUser:0,modalShow:!1},a.showNotification=a.showNotification.bind(Object(i.a)(a)),a}return Object(n.a)(s,[{key:"onChangeOptionsPlus",value:function(e){this.setState({modalAccess:e,modalAccessStatus:!1})}},{key:"componentDidMount",value:function(){var e=this;e.accounts(e.state.activePageNo),setTimeout((function(){e.accounts(e.state.activePageNo)}),6e4),"Notification"in window?Notification.requestPermission():alert("This browser does not support desktop notification")}},{key:"showNotification",value:function(){new Notification("Your  car is due id 198 !")}},{key:"accounts",value:function(e){var t=this;this.setState({isLoaded:!1});var s={page:""+(e?parseInt(e):0)};this.setState({activePageNo:e||this.state.activePageNo}),Object(j.a)(s,"/app/modify/"+s.page,"",2).then((function(e){if(200===e.status)if(setTimeout((function(){console.log(e)}),1e3),200===e.data.status){console.log(e.data.data);var s=localStorage.getItem("is_admin");t.setState({isLoaded:!0,items:e.data.data.booking,users:e.data.data.users,is_admin:s})}else t.setState({message:e.msg}),setTimeout((function(){return t.setState({message:""})}),2e3)}))}},{key:"assigUser",value:function(e,t){var s=this,a={id:t,assigned_to:e,status:"Accepted"};Object(j.a)(a,"/booking/assignuser","",1).then((function(e){200===e.status&&(200===e.data.status?(console.log(e.data.data),s.setState({isLoaded:!0}),s.accounts(s.state.activePageNo)):(s.setState({message:e.msg}),setTimeout((function(){return s.setState({message:""})}),2e3)))}))}},{key:"markCarReady",value:function(e){var t=this,s={id:e,status:"Ready"};Object(j.a)(s,"/booking/assignuser","",1).then((function(e){200===e.status&&(200===e.data.status?(console.log(e.data.data),t.setState({isLoaded:!0}),t.accounts(t.state.activePageNo)):(t.setState({message:e.msg}),setTimeout((function(){return t.setState({message:""})}),2e3)))}))}},{key:"markCarNotReady",value:function(e){var t=this,s={id:e,status:"Accepted"};Object(j.a)(s,"/booking/assignuser","",1).then((function(e){200===e.status&&(200===e.data.status?(console.log(e.data.data),t.setState({isLoaded:!0}),t.accounts(t.state.activePageNo)):(t.setState({message:e.msg}),setTimeout((function(){return t.setState({message:""})}),2e3)))}))}},{key:"markCarReject",value:function(e){var t=this,s={id:e.id,status:"Rejected",item:e};Object(j.a)(s,"/app/modifyreq","",1).then((function(e){200===e.status&&(200===e.data.status?(console.log(e.data.data),t.setState({isLoaded:!0}),t.accounts(t.state.activePageNo)):(t.setState({message:e.msg}),setTimeout((function(){return t.setState({message:""})}),2e3)))}))}},{key:"render",value:function(){var e=this,t=this.state,s=(t.isLoaded,t.items);t.users;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"dashboard-wrapper",children:[Object(a.jsxs)("div",{className:this.state.modalAccess?"dashboard-center-popup active":"dashboard-center-popup",children:[Object(a.jsx)("div",{className:"dp-backdrop"}),Object(a.jsx)("div",{className:"dp-content",children:Object(a.jsx)("div",{className:"dp-body",children:Object(a.jsxs)("div",{className:"dp-popup cus-have-res",children:[Object(a.jsx)("div",{className:"popup-close",children:Object(a.jsx)("span",{className:"ion-close-round",onClick:function(){return e.onChangeOptionsPlus(!1)}})}),Object(a.jsx)("h4",{className:"popup-title",children:"Does the Customer have a reservation?"}),Object(a.jsxs)("div",{className:"popup-action",children:[Object(a.jsxs)(l.c,{to:"/checkout/vendors",children:[" ",Object(a.jsx)("button",{type:"button",className:"pp-custom-btn",children:"Yes"})]}),Object(a.jsxs)(l.c,{to:"/checkout/plate_name/0",children:[" ",Object(a.jsx)("button",{type:"button",className:"pp-custom-btn pp-btn-outline",children:"No"})]})]})]})})})]}),Object(a.jsxs)("div",{className:this.state.modalAccessStatus?"dashboard-center-popup active":"dashboard-center-popup",children:[Object(a.jsx)("div",{className:"dp-backdrop"}),Object(a.jsx)("div",{className:"dp-content",children:Object(a.jsx)("div",{className:"dp-body",children:Object(a.jsxs)("div",{class:"dp-popup del-ven-name",children:[Object(a.jsx)("div",{class:"popup-close",children:Object(a.jsx)("span",{class:"ion-close-round",onClick:function(){return e.onChangeOptionsPlus(!1)}})}),Object(a.jsxs)("h4",{class:"popup-title",children:["Do you want to delete? ",Object(a.jsx)("span",{children:"User Name"})]}),Object(a.jsxs)("div",{class:"popup-action",children:[Object(a.jsx)("button",{type:"button",onClick:function(){return e.deleteSubadmin()},class:"pp-custom-btn",children:"Yes"}),Object(a.jsx)("button",{type:"button",onClick:function(){return e.onChangeOptionsPlus(!1)},class:"pp-custom-btn pp-btn-outline",children:"No"})]})]})})})]})]}),Object(a.jsxs)("div",{class:"dc-wrap main-dashboard dashboard-car-status",children:[Object(a.jsxs)("div",{class:"dc-header",children:[Object(a.jsx)("div",{class:"dch-left",children:Object(a.jsx)("h3",{class:"dc-head",children:"Modify Requests By App"})}),Object(a.jsx)("div",{class:"dch-right",children:Object(a.jsxs)(l.c,{to:"/users/cancel-req-dashboard",children:[" ",Object(a.jsx)("button",{type:"button",className:"pp-custom-btn",children:"Cancell Requests"})]})})]}),Object(a.jsxs)("div",{class:"dc-body",children:[Object(a.jsx)("div",{class:"dcb-table-responsive",children:Object(a.jsxs)("table",{class:"custom-table car-type-tbl last-center-tbl",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsx)("div",{class:"ct-head",children:Object(a.jsx)("p",{children:"Customer's name"})})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{class:"ct-head",children:Object(a.jsx)("p",{children:"Phone Number"})})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{class:"ct-head",children:Object(a.jsx)("p",{children:"Ticket Id"})})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{class:"ct-head",children:Object(a.jsx)("p",{children:"Slot"})})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{class:"ct-head",children:Object(a.jsx)("p",{children:"Lot"})})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{class:"ct-head",children:Object(a.jsx)("p",{children:"Reservation Time"})})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{class:"ct-head",children:Object(a.jsx)("p",{children:"Pick Up Time"})})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{class:"ct-head",children:Object(a.jsx)("p",{children:"Status"})})}),Object(a.jsx)("th",{children:Object(a.jsx)("div",{class:"ct-head",children:Object(a.jsx)("p",{children:"Action"})})})]})}),Object(a.jsx)("tbody",{children:s.length>0?s.map((function(t,s){var c,n,i,o;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("p",{children:t.booking.customer_name})}),Object(a.jsx)("td",{children:Object(a.jsx)("p",{children:t.booking.mobile_number})}),Object(a.jsx)("td",{children:Object(a.jsx)("p",{children:t.id})}),Object(a.jsx)("td",{className:"no-line-break",children:(null===t||void 0===t||null===(c=t.booking)||void 0===c||null===(n=c.parking)||void 0===n?void 0:n.slot)||"-"}),Object(a.jsx)("td",{className:"no-line-break",children:(null===t||void 0===t||null===(i=t.booking)||void 0===i||null===(o=i.parking)||void 0===o?void 0:o.parkingLot.lot)||"-"}),Object(a.jsx)("td",{children:Object(a.jsx)("p",{children:b()(t.reservation_time).format("MMM D HH:mm")})}),Object(a.jsx)("td",{children:Object(a.jsx)("p",{children:b()(t.pick_up_time).format("MMM D HH:mm")})}),Object(a.jsx)("td",{children:Object(a.jsx)("p",{children:Object(a.jsx)("span",{class:"car-status "+t.status,children:t.status})})}),Object(a.jsx)("td",{children:"pending"===t.status?Object(a.jsxs)("div",{class:"car-action-wrap",children:[Object(a.jsx)("span",{onClick:function(s){return e._onClickAccept(s.target,t)},class:"car-action mark-ready",children:"Accept"}),Object(a.jsx)("span",{onClick:function(s){return e.handleChangeMarkRject(s.target,t)},class:"car-action reject",children:"Reject"})]}):""})]})})):""})]})}),Object(a.jsx)(l.c,{to:"/users/dashboard",onClick:this.viewMoreFunc,children:Object(a.jsx)("div",{class:"view-more-data",children:"View More"})})]}),!1===this.state.isLoaded?Object(a.jsx)("div",{style:{display:"flex",marginTop:"20px",justifyContent:"space-between",position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:Object(a.jsx)(g.a,{name:"double-bounce",color:"steelblue",style:{width:100,height:100,textAlign:"center",margin:"auto"}})}):null]})]})}}]),s}(r.Component);t.default=Object(u.b)((function(e){return console.log(e.loginDetails),e}))(v)},739:function(e,t,s){"use strict";t.a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAAABHNCSVQICAgIfAhkiAAAAgdJREFUSEu1lkFWGkEQhqsaFrrSG0Q2ibiRG2SYCxhP4CTgHk8AnkBdJ8TxBpwA+gYxG3hmIzlBZCW+B11Wt/bYM2FgBod5j/eY6er6+v+nuqYR3nEF995u6QlOUGEAiDWTiuiWBIXdfXmVTI3rsk7/eDWa4XUESSZi6AzpOKzKsR1aC6ZBaoYDRNxdulgN3KZ6WJEPOi43LDPobRXnP6r9Tm5YGoiAbuZb1NIJS1O8RMATy+Kxcbc6qOSCLQNxssAm10VTnop/rr2szDiYycasIAtojnxaC5YbNPRbLOHCgU1YmSmkpcrygr6N/EAAXLuq9Pu0NqfCigAxdDIDVbN7bSGsIBCQUMfdT7KXuqmLAimArz+r/dC1NKZsk6BYgWwaFMFM937E+2SvcyvJtWNR1enxRdb9Z2NjVA/dFqMDigZFypI7fhMgA2uOPA9ADKLGSfC3e9Dfc+Xr/+taF7ORVXX4QTuCOTvePisC9KqsLlngZ5s4+ZKLAr3C4h2a20ulDMA2Cl4AscXIv/i1quqS8fae35mvP9k7aQFpoMad9wXn2E49gzgT9QcUBJ1hc1jv8YSjLDBXUWPojxHhQ5Z5JobPI2hOSXPxa9kkXtlvUaLg+0d5a+PywnQO0xtfgHhpC4W4/AFJEqBUoKR7HItgbCMo7HAzOFylzuQrqVamY8GqZFnHnwEaoFtX1O6VLgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=37.edb50459.chunk.js.map