{"version":3,"sources":["views/users/dashboard.js","img/icons/edit.png"],"names":["tryFunc","$","click","Dashboard","props","viewMoreFunc","setState","activePageNo","state","accounts","handleChange","value","id","assigUser","handleChangeMarkReady","markCarReady","handleChangeMarkNotReady","markCarNotReady","handleChangeMarkRject","item","markCarReject","showModal","hideModal","showModalForRecentTime","console","log","items","diffTime","absTime","calculatedTime","map","i","moment","diff","pick_up_time","Math","abs","parseInt","reservation_id","snoozeNotification","alert","seeNotification","_onClickAccept","e","isLoaded","data","status","_callApi","then","response","message","msg","setTimeout","modalAccess","users","adminUser","modalShow","showNotification","bind","this","modalAccessStatus","me","window","Notification","requestPermission","pageNumber","page","is_admin","localStorage","getItem","booking","user","assigned_to","className","onClick","onChangeOptionsPlus","to","type","class","deleteSubadmin","length","customer_name","mobile_number","parking","slot","parkingLot","lot","reservation_time","format","target","style","display","marginTop","justifyContent","position","top","left","width","height","name","color","textAlign","margin","Component","connect","loginDetails"],"mappings":"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","file":"static/js/37.edb50459.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport { connect, useStore } from \"react-redux\";\r\nimport editImage from \"../../img/icons/edit.png\";\r\nimport { _callApi } from \"../../Services/baseService\";\r\nimport moment from \"moment\";\r\nimport Popup from \"reactjs-popup\";\r\nimport \"reactjs-popup/dist/index.css\";\r\nimport \"src/scss/modal.css\";\r\nimport { setInterval } from \"core-js\";\r\nimport $ from 'jquery'; \r\nimport Spinner from \"react-spinkit\";\r\n\r\n\r\nvar modalMsg = '';\r\nconst Modal = ({ handleClose, show, me }) => {\r\n  const showHideClassName = show ? \"modal display-block\" : \"modal display-none\";\r\n\r\n  return (\r\n    <div className={showHideClassName} style={{textAlign: \"center\"}}>\r\n      <section className=\"modal-main\">\r\n        <p className=\"modal-header\">Reservation ID: {modalMsg} time approaching!!</p>\r\n       \r\n        <span\r\n          onClick={me.snoozeNotification}\r\n          class=\"car-action mark-ready mbtn\"\r\n        >\r\n          Snooze for 2 min\r\n        </span>\r\n        <span\r\n          onClick={handleClose}\r\n          class=\"car-action mark-ready mbtn\"\r\n        >\r\n          See Notification\r\n        </span>\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst tryFunc = () => {\r\n  $(\".btnsm\").click();\r\n}\r\n\r\nconst tryFuncClose = () => {\r\n  $(\".btnsmcls\").click();\r\n}\r\n\r\nclass Dashboard extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalAccess: false,\r\n      items: [],\r\n      users: [],\r\n      activePageNo: 0,\r\n      adminUser: 0,\r\n      modalShow: false,\r\n    };\r\n\r\n    this.showNotification = this.showNotification.bind(this);\r\n  }\r\n\r\n  onChangeOptionsPlus(value) {\r\n    this.setState({ modalAccess: value, modalAccessStatus: false });\r\n  }\r\n\r\n  componentDidMount() {\r\n    let me = this;\r\n    me.accounts(me.state.activePageNo);\r\n    setTimeout(() => {\r\n      me.accounts(me.state.activePageNo);\r\n    }, 60000);\r\n    \r\n    if (!(\"Notification\" in window)) {\r\n      alert(\"This browser does not support desktop notification\");\r\n    } else {\r\n      Notification.requestPermission();\r\n    }\r\n\r\n    // setInterval(() => {\r\n    //   this.showModalForRecentTime()\r\n    // }, 1000);\r\n\r\n  \r\n  }\r\n\r\n  showNotification() {\r\n    new Notification(\"Your  car is due id 198 !\");\r\n  }\r\n  //06 Mar 2017 21:22:23\r\n  accounts(pageNumber) {\r\n\r\n    this.setState({\r\n      isLoaded: false\r\n    });\r\n    var headerdata = \"\";\r\n    const data = {\r\n      page: \"\" + (pageNumber ? parseInt(pageNumber) : 0),\r\n    };\r\n    this.setState({\r\n      activePageNo: pageNumber ? pageNumber : this.state.activePageNo,\r\n    });\r\n    _callApi(data, \"/app/modify/\" + data.page, headerdata, 2).then((response) => {\r\n      if (response.status === 200) {\r\n            setTimeout(() => {\r\n              console.log(response);\r\n            }, 1000);\r\n        if (response.data.status === 200) {\r\n          console.log(response.data.data);\r\n          let is_admin = localStorage.getItem(\"is_admin\");\r\n          this.setState({\r\n            isLoaded: true,\r\n            items: response.data.data.booking,\r\n            users: response.data.data.users,\r\n            is_admin: is_admin,\r\n          });\r\n        } else {\r\n          this.setState({ message: response.msg });\r\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  assigUser(user, id) {\r\n    var headerdata = \"\";\r\n    const data = {\r\n      id: id,\r\n      assigned_to: user,\r\n      status: \"Accepted\",\r\n    };\r\n\r\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\r\n      if (response.status === 200) {\r\n        if (response.data.status === 200) {\r\n          console.log(response.data.data);\r\n          this.setState({\r\n            isLoaded: true,\r\n          });\r\n          this.accounts(this.state.activePageNo);\r\n          //  console.log(this.state.items)\r\n        } else {\r\n          this.setState({ message: response.msg });\r\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  markCarReady(id) {\r\n    var headerdata = \"\";\r\n    const data = {\r\n      id: id,\r\n      status: \"Ready\",\r\n    };\r\n\r\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\r\n      if (response.status === 200) {\r\n        if (response.data.status === 200) {\r\n          console.log(response.data.data);\r\n          this.setState({\r\n            isLoaded: true,\r\n          });\r\n          this.accounts(this.state.activePageNo);\r\n          //  console.log(this.state.items)\r\n        } else {\r\n          this.setState({ message: response.msg });\r\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  markCarNotReady(id) {\r\n    var headerdata = \"\";\r\n    const data = {\r\n      id: id,\r\n      status: \"Accepted\",\r\n    };\r\n\r\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\r\n      if (response.status === 200) {\r\n        if (response.data.status === 200) {\r\n          console.log(response.data.data);\r\n          this.setState({\r\n            isLoaded: true,\r\n          });\r\n          this.accounts(this.state.activePageNo);\r\n          //  console.log(this.state.items)\r\n        } else {\r\n          this.setState({ message: response.msg });\r\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  markCarReject(item) {\r\n    var headerdata = \"\";\r\n    const data = {\r\n      id: item.id,\r\n      status: \"Rejected\",\r\n      item: item\r\n      // assigned_to: 1,\r\n    };\r\n\r\n    _callApi(data, \"/app/modifyreq\", headerdata, 1).then((response) => {\r\n      if (response.status === 200) {\r\n        if (response.data.status === 200) {\r\n          console.log(response.data.data);\r\n          this.setState({\r\n            isLoaded: true,\r\n          });\r\n          this.accounts(this.state.activePageNo);\r\n          //  console.log(this.state.items)\r\n        } else {\r\n          this.setState({ message: response.msg });\r\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  viewMoreFunc = () => {\r\n    this.setState({ activePageNo: this.state.activePageNo + 1 }, () => {\r\n      this.accounts(this.state.activePageNo);\r\n    });\r\n  };\r\n\r\n  handleChange = (value, id) => {\r\n    this.assigUser(value, id);\r\n  };\r\n\r\n  handleChangeMarkReady = (value, id) => {\r\n    this.markCarReady(id);\r\n  };\r\n\r\n  handleChangeMarkNotReady = (value, id) => {\r\n    this.markCarNotReady(id);\r\n  };\r\n\r\n  handleChangeMarkRject = (value, item) => {\r\n    this.markCarReject(item);\r\n  };\r\n\r\n  showModal = () => {\r\n    //this.setState({ modalShow: true });\r\n    tryFunc()\r\n  };\r\n\r\n  hideModal = () => {\r\n    //this.setState({ modalShow: false });\r\n    tryFunc()\r\n  };\r\n\r\n  showModalForRecentTime = () => {\r\n    //moment().diff(Moment|String|Number|Date|Array);\r\n    console.log('showModalForRecentTime')\r\n    var { items } = this.state;\r\n    let diffTime = 0;\r\n    let absTime = 0;\r\n    let calculatedTime = 0;\r\n    //if (items.length > 0) {\r\n      items.map((item, i) => {\r\n        diffTime = moment().diff(moment(item.pick_up_time));\r\n        console.log(moment().diff(moment(item.pick_up_time)))\r\n        //if (diffTime < 0) {\r\n          absTime = Math.abs(diffTime);\r\n          calculatedTime = absTime / 1000;\r\n          calculatedTime = calculatedTime / 60;\r\n          calculatedTime = parseInt(calculatedTime);\r\n          console.log(calculatedTime);\r\n          //if (calculatedTime < 61 ) {\r\n            modalMsg = item.reservation_id;\r\n            this.showModal();\r\n            return false;\r\n          //}\r\n        //}\r\n      });\r\n    //}\r\n  };\r\n\r\n  snoozeNotification = () => {\r\n    alert('snoozeNotification')\r\n  }\r\n\r\n  seeNotification = () => {\r\n    alert('snoozeNotification')\r\n  }\r\n\r\n  _onClickAccept = (e,item) => {\r\n    this.setState({\r\n      isLoaded: false\r\n    });\r\n    let headerdata = \"\";\r\n\r\n    const data = {\r\n      // assigned_to: localStorage.getItem(\"user_id\"),\r\n      id: item.id,\r\n      status: 'Accepted',\r\n      item: item\r\n    };\r\n\r\n    _callApi(data, \"/app/modifyreq\", headerdata, 1).then((response) => {\r\n      if (response.status === 200) {\r\n        if (response.data.status === 200) {\r\n          console.log(response.data.data);\r\n          this.setState({\r\n            isLoaded: true\r\n          });\r\n          this.accounts(this.state.activePageNo);\r\n\r\n        } else {\r\n          this.setState({ message: response.msg });\r\n          this.setState({\r\n            isLoaded: true\r\n          });\r\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  \r\n\r\n  render() {\r\n    var { isLoaded, items, users } = this.state;\r\n    return (\r\n      <>\r\n        <div className=\"dashboard-wrapper\">\r\n          <div\r\n            className={\r\n              this.state.modalAccess\r\n                ? \"dashboard-center-popup active\"\r\n                : \"dashboard-center-popup\"\r\n            }\r\n          >\r\n            <div className=\"dp-backdrop\"></div>\r\n            <div className=\"dp-content\">\r\n              <div className=\"dp-body\">\r\n                <div className=\"dp-popup cus-have-res\">\r\n                  <div className=\"popup-close\">\r\n                    <span\r\n                      className=\"ion-close-round\"\r\n                      onClick={() => this.onChangeOptionsPlus(false)}\r\n                    ></span>\r\n                  </div>\r\n                  <h4 className=\"popup-title\">\r\n                    Does the Customer have a reservation?\r\n                  </h4>\r\n                  <div className=\"popup-action\">\r\n                    <NavLink to=\"/checkout/vendors\">\r\n                      {\" \"}\r\n                      <button type=\"button\" className=\"pp-custom-btn\">\r\n                        Yes\r\n                      </button>\r\n                    </NavLink>\r\n                    <NavLink to=\"/checkout/plate_name/0\">\r\n                      {\" \"}\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"pp-custom-btn pp-btn-outline\"\r\n                      >\r\n                        No\r\n                      </button>\r\n                    </NavLink>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className={\r\n              this.state.modalAccessStatus\r\n                ? \"dashboard-center-popup active\"\r\n                : \"dashboard-center-popup\"\r\n            }\r\n          >\r\n            <div className=\"dp-backdrop\"></div>\r\n            <div className=\"dp-content\">\r\n              <div className=\"dp-body\">\r\n                <div class=\"dp-popup del-ven-name\">\r\n                  <div class=\"popup-close\">\r\n                    <span\r\n                      class=\"ion-close-round\"\r\n                      onClick={() => this.onChangeOptionsPlus(false)}\r\n                    ></span>\r\n                  </div>\r\n                  <h4 class=\"popup-title\">\r\n                    Do you want to delete? <span>User Name</span>\r\n                  </h4>\r\n                  <div class=\"popup-action\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => this.deleteSubadmin()}\r\n                      class=\"pp-custom-btn\"\r\n                    >\r\n                      Yes\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => this.onChangeOptionsPlus(false)}\r\n                      class=\"pp-custom-btn pp-btn-outline\"\r\n                    >\r\n                      No\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"dc-wrap main-dashboard dashboard-car-status\">\r\n          <div class=\"dc-header\">\r\n            <div class=\"dch-left\">\r\n              <h3 class=\"dc-head\">Modify Requests By App</h3>\r\n            </div>\r\n            <div class=\"dch-right\">\r\n              {/* <button\r\n                type=\"button\"\r\n                className=\"pp-custom-btn\"\r\n                onClick={() => this.onChangeOptionsPlus(true)}\r\n              >\r\n                Cancell Req\r\n              </button> */}\r\n              <NavLink to=\"/users/cancel-req-dashboard\">\r\n                {\" \"}\r\n                <button type=\"button\" className=\"pp-custom-btn\">\r\n                Cancell Requests\r\n                </button>\r\n              </NavLink>\r\n              {/* <NavLink to=\"/checkout/modify\">\r\n                <button type=\"button\" className=\"pp-custom-btn \">\r\n                  Modify and search\r\n                </button>\r\n              </NavLink>\r\n              <NavLink to=\"/car_status/list\">\r\n                <button type=\"button\" class=\"pp-custom-btn\">\r\n                  Car Status\r\n                </button>\r\n              </NavLink> */}\r\n            </div>\r\n          </div>\r\n          <div class=\"dc-body\">\r\n            <div class=\"dcb-table-responsive\">\r\n              <table class=\"custom-table car-type-tbl last-center-tbl\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>\r\n                      <div class=\"ct-head\">\r\n                        <p>Customer's name</p>\r\n                      </div>\r\n                    </th>\r\n                    <th>\r\n                      <div class=\"ct-head\">\r\n                        <p>Phone Number</p>\r\n                      </div>\r\n                    </th>\r\n                    <th>\r\n                      <div class=\"ct-head\">\r\n                        <p>Ticket Id</p>\r\n                      </div>\r\n                    </th>\r\n\r\n                    <th>\r\n                      <div class=\"ct-head\">\r\n                        <p>Slot</p>\r\n                      </div>\r\n                    </th>\r\n                    <th>\r\n                      <div class=\"ct-head\">\r\n                        <p>Lot</p>\r\n                      </div>\r\n                    </th>\r\n                    <th>\r\n                      <div class=\"ct-head\">\r\n                        <p>Reservation Time</p>\r\n                      </div>\r\n                    </th>\r\n                    <th>\r\n                      <div class=\"ct-head\">\r\n                        <p>Pick Up Time</p>\r\n                      </div>\r\n                    </th>\r\n                    {/* {this.state.is_admin === \"true\" ? (\r\n                      <th>\r\n                        <div class=\"ct-head\">\r\n                          <p>Assigned to</p>\r\n                        </div>\r\n                      </th>\r\n                    ) : (\r\n                      \"\"\r\n                    )} */}\r\n                    <th>\r\n                      <div class=\"ct-head\">\r\n                        <p>Status</p>\r\n                      </div>\r\n                    </th>\r\n                    <th>\r\n                      <div class=\"ct-head\">\r\n                        <p>Action</p>\r\n                      </div>\r\n                    </th>\r\n                \r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {items.length > 0\r\n                    ? items.map((item, i) => (\r\n                        <tr>\r\n                          <td>\r\n                            <p>{item.booking.customer_name}</p>\r\n                          </td>\r\n                          <td>\r\n                            <p>{item.booking.mobile_number}</p>\r\n                          </td>\r\n                          <td>\r\n                            <p>{item.id}</p>\r\n                          </td>\r\n                          <td className=\"no-line-break\">\r\n                          {item?.booking?.parking?.slot || \"-\"}\r\n                          </td>\r\n                          <td className=\"no-line-break\">\r\n                          {item?.booking?.parking?.parkingLot.lot || \"-\"}\r\n                          </td>\r\n                          <td>\r\n                            <p>\r\n                              {moment(item.reservation_time).format(\"MMM D HH:mm\")}\r\n                            </p>\r\n                          </td>\r\n                          <td>\r\n                            <p>\r\n                              {moment(item.pick_up_time).format(\"MMM D HH:mm\")}\r\n                            </p>\r\n                          </td>\r\n                          {/* {this.state.is_admin === \"true\" ? (\r\n                            <td>\r\n                              <div class=\"sc-input-wrap\">\r\n                                <div class=\"sc-input\">\r\n                                  <div class=\"sc-select-wrap\" key={1235}>\r\n                                    <select\r\n                                      class=\"sc-custom-form\"\r\n                                      value={item.assigned_to}\r\n                                    \r\n                                      onChange={(e) =>\r\n                                        this.handleChange(\r\n                                          e.target.value,\r\n                                          item.id\r\n                                        )\r\n                                      }\r\n                                    >\r\n                                      <option value=\"\">Select</option>\r\n                                      {users.length > 0\r\n                                        ? users.map((user, i) => ( user.name !== \"\"?\r\n                                            <option value={user.id}>\r\n                                              {user.name}\r\n                                            </option>\r\n                                            :null\r\n                                          ))\r\n                                        : \"\"}\r\n                                    </select>\r\n\r\n                                    <span class=\"ion-ios-arrow-down select-drop-icon\"></span>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                          ) : (\r\n                            \"\"\r\n                          )} */}\r\n                          <td>\r\n                            <p>\r\n                              <span class={\"car-status \" + item.status}>\r\n                                {item.status}\r\n                              </span>\r\n                            </p>\r\n                          </td>\r\n                          <td>\r\n                            {/* {item.status === \"approved\"\r\n                              ? <div class=\"car-action-wrap\">\r\n                                   <span\r\n                                  //   onClick={(e) =>\r\n                                  //   this.handleChangeMarkReady(\r\n                                  //     e.target,\r\n                                  //     item\r\n                                  //   )\r\n                                  // } \r\n                                  class=\"car-action accept\"\r\n                                  >\r\n                                    Accepted\r\n                                  </span>\r\n                                 </div>\r\n                                :\"\"} */}\r\n                            {item.status === \"pending\" ? (\r\n                              <div class=\"car-action-wrap\">\r\n                                <span\r\n                                  onClick={(e) =>\r\n                                    this._onClickAccept(\r\n                                      e.target,\r\n                                      item\r\n                                    )\r\n                                  }\r\n                                  class=\"car-action mark-ready\"\r\n                                >\r\n                                  Accept\r\n                                </span>\r\n                                <span\r\n                                  onClick={(e) =>\r\n                                    this.handleChangeMarkRject(\r\n                                      e.target,\r\n                                      item\r\n                                    )\r\n                                  }\r\n                                  class=\"car-action reject\"\r\n                                >\r\n                                  Reject\r\n                                </span>\r\n                              </div>\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                            {/* {item.status === \"rejected\" ? (\r\n                              <div class=\"car-action-wrap\">\r\n                                <span\r\n                                  // onClick={(e) =>\r\n                                  //   this.handleChangeMarkNotReady(\r\n                                  //     e.target,\r\n                                  //     item.id\r\n                                  //   )\r\n                                  // }\r\n                                  class=\"car-action mark-not-ready\"\r\n                                >\r\n                                Rejected\r\n                                </span>\r\n                              </div>\r\n                            ) : (\r\n                              \"\"\r\n                            )} */}\r\n                          </td>\r\n                        </tr>\r\n                      ))\r\n                    : \"\"}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <NavLink to=\"/users/dashboard\" onClick={this.viewMoreFunc}>\r\n              <div class=\"view-more-data\">View More</div>\r\n            </NavLink>\r\n       \r\n          </div>\r\n          { this.state.isLoaded === false?\r\n            <div\r\n              style={{\r\n                  display: \"flex\",\r\n                  marginTop: \"20px\",\r\n                  justifyContent: \"space-between\",\r\n                  position: \"absolute\", /*position: fixed;*/\r\n                  top: 0,\r\n                  left: 0,\r\n                  width: \"100%\",\r\n                  height: \"100%\",\r\n                  }}>\r\n              <Spinner name=\"double-bounce\" color=\"steelblue\" style={{ width: 100, height: 100, textAlign: \"center\", margin: \"auto\" }} />\r\n            \r\n            </div>\r\n            :null}\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  console.log(state.loginDetails);\r\n  return state;\r\n}\r\n\r\nexport default connect(mapStateToProps)(Dashboard);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAAABHNCSVQICAgIfAhkiAAAAgdJREFUSEu1lkFWGkEQhqsaFrrSG0Q2ibiRG2SYCxhP4CTgHk8AnkBdJ8TxBpwA+gYxG3hmIzlBZCW+B11Wt/bYM2FgBod5j/eY6er6+v+nuqYR3nEF995u6QlOUGEAiDWTiuiWBIXdfXmVTI3rsk7/eDWa4XUESSZi6AzpOKzKsR1aC6ZBaoYDRNxdulgN3KZ6WJEPOi43LDPobRXnP6r9Tm5YGoiAbuZb1NIJS1O8RMATy+Kxcbc6qOSCLQNxssAm10VTnop/rr2szDiYycasIAtojnxaC5YbNPRbLOHCgU1YmSmkpcrygr6N/EAAXLuq9Pu0NqfCigAxdDIDVbN7bSGsIBCQUMfdT7KXuqmLAimArz+r/dC1NKZsk6BYgWwaFMFM937E+2SvcyvJtWNR1enxRdb9Z2NjVA/dFqMDigZFypI7fhMgA2uOPA9ADKLGSfC3e9Dfc+Xr/+taF7ORVXX4QTuCOTvePisC9KqsLlngZ5s4+ZKLAr3C4h2a20ulDMA2Cl4AscXIv/i1quqS8fae35mvP9k7aQFpoMad9wXn2E49gzgT9QcUBJ1hc1jv8YSjLDBXUWPojxHhQ5Z5JobPI2hOSXPxa9kkXtlvUaLg+0d5a+PywnQO0xtfgHhpC4W4/AFJEqBUoKR7HItgbCMo7HAzOFylzuQrqVamY8GqZFnHnwEaoFtX1O6VLgAAAABJRU5ErkJggg==\""],"sourceRoot":""}