{"version":3,"sources":["views/dashboard/index.js","img/icons/edit.png"],"names":["tryFunc","$","click","Dashboard","props","viewMoreFunc","setState","activePageNo","state","accounts","handleChange","value","id","assigUser","handleChangeMarkReady","markCarReady","handleChangeMarkNotReady","markCarNotReady","handleChangeMarkRject","markCarReject","showModal","hideModal","showModalForRecentTime","console","log","items","diffTime","absTime","calculatedTime","map","item","i","moment","diff","pick_up_time","Math","abs","parseInt","reservation_id","snoozeNotification","alert","seeNotification","_onClickAccept","e","isLoaded","data","assigned_to","localStorage","getItem","status","_callApi","then","response","message","msg","setTimeout","modalAccess","users","adminUser","modalShow","showNotification","bind","this","modalAccessStatus","me","window","Notification","requestPermission","pageNumber","page","is_admin","booking","user","className","onClick","onChangeOptionsPlus","to","type","class","deleteSubadmin","src","editImage","length","customer_name","mobile_number","format","onChange","target","name","style","display","marginTop","justifyContent","position","top","left","width","height","color","textAlign","margin","Component","connect","loginDetails"],"mappings":"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","file":"static/js/33.96037d6e.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { connect, useStore } from \"react-redux\";\nimport editImage from \"../../img/icons/edit.png\";\nimport { _callApi } from \"../../Services/baseService\";\nimport moment from \"moment\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\nimport \"src/scss/modal.css\";\nimport { setInterval } from \"core-js\";\nimport $ from 'jquery'; \nimport Spinner from \"react-spinkit\";\n\n\nvar modalMsg = '';\nconst Modal = ({ handleClose, show, me }) => {\n  const showHideClassName = show ? \"modal display-block\" : \"modal display-none\";\n\n  return (\n    <div className={showHideClassName} style={{textAlign: \"center\"}}>\n      <section className=\"modal-main\">\n        <p className=\"modal-header\">Reservation ID: {modalMsg} time approaching!!</p>\n       \n        <span\n          onClick={me.snoozeNotification}\n          class=\"car-action mark-ready mbtn\"\n        >\n          Snooze for 2 min\n        </span>\n        <span\n          onClick={handleClose}\n          class=\"car-action mark-ready mbtn\"\n        >\n          See Notification\n        </span>\n      </section>\n    </div>\n  );\n};\n\nconst tryFunc = () => {\n  $(\".btnsm\").click();\n}\n\nconst tryFuncClose = () => {\n  $(\".btnsmcls\").click();\n}\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      modalAccess: false,\n      items: [],\n      users: [],\n      activePageNo: 0,\n      adminUser: 0,\n      modalShow: false,\n    };\n\n    this.showNotification = this.showNotification.bind(this);\n  }\n\n  onChangeOptionsPlus(value) {\n    this.setState({ modalAccess: value, modalAccessStatus: false });\n  }\n\n  componentDidMount() {\n    let me = this;\n    me.accounts(me.state.activePageNo);\n    setTimeout(() => {\n      me.accounts(me.state.activePageNo);\n    }, 60000);\n    \n    if (!(\"Notification\" in window)) {\n      alert(\"This browser does not support desktop notification\");\n    } else {\n      Notification.requestPermission();\n    }\n\n    // setInterval(() => {\n    //   this.showModalForRecentTime()\n    // }, 1000);\n\n  \n  }\n\n  showNotification() {\n    new Notification(\"Your  car is due id 198 !\");\n  }\n  //06 Mar 2017 21:22:23\n  accounts(pageNumber) {\n\n    this.setState({\n      isLoaded: false\n    });\n    var headerdata = \"\";\n    const data = {\n      page: \"\" + (pageNumber ? parseInt(pageNumber) : 0),\n    };\n    this.setState({\n      activePageNo: pageNumber ? pageNumber : this.state.activePageNo,\n    });\n    _callApi(data, \"/booking/\" + data.page, headerdata, 2).then((response) => {\n      if (response.status === 200) {\n            setTimeout(() => {\n              console.log(response);\n            }, 1000);\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          let is_admin = localStorage.getItem(\"is_admin\");\n          this.setState({\n            isLoaded: true,\n            items: response.data.data.booking,\n            users: response.data.data.users,\n            is_admin: is_admin,\n          });\n        } else {\n          this.setState({ message: response.msg });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  }\n\n  assigUser(user, id) {\n    var headerdata = \"\";\n    const data = {\n      id: id,\n      assigned_to: user,\n      status: \"Accepted\",\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true,\n          });\n          this.accounts(this.state.activePageNo);\n          //  console.log(this.state.items)\n        } else {\n          this.setState({ message: response.msg });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  }\n\n  markCarReady(id) {\n    var headerdata = \"\";\n    const data = {\n      id: id,\n      status: \"Ready\",\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true,\n          });\n          this.accounts(this.state.activePageNo);\n          //  console.log(this.state.items)\n        } else {\n          this.setState({ message: response.msg });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  }\n\n  markCarNotReady(id) {\n    var headerdata = \"\";\n    const data = {\n      id: id,\n      status: \"Accepted\",\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true,\n          });\n          this.accounts(this.state.activePageNo);\n          //  console.log(this.state.items)\n        } else {\n          this.setState({ message: response.msg });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  }\n\n  markCarReject(id) {\n    var headerdata = \"\";\n    const data = {\n      id: id,\n      status: \"Pending\",\n      assigned_to: 1,\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true,\n          });\n          this.accounts(this.state.activePageNo);\n          //  console.log(this.state.items)\n        } else {\n          this.setState({ message: response.msg });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  }\n\n  viewMoreFunc = () => {\n    this.setState({ activePageNo: this.state.activePageNo + 1 }, () => {\n      this.accounts(this.state.activePageNo);\n    });\n  };\n\n  handleChange = (value, id) => {\n    this.assigUser(value, id);\n  };\n\n  handleChangeMarkReady = (value, id) => {\n    this.markCarReady(id);\n  };\n\n  handleChangeMarkNotReady = (value, id) => {\n    this.markCarNotReady(id);\n  };\n\n  handleChangeMarkRject = (value, id) => {\n    this.markCarReject(id);\n  };\n\n  showModal = () => {\n    //this.setState({ modalShow: true });\n    tryFunc()\n  };\n\n  hideModal = () => {\n    //this.setState({ modalShow: false });\n    tryFunc()\n  };\n\n  showModalForRecentTime = () => {\n    //moment().diff(Moment|String|Number|Date|Array);\n    console.log('showModalForRecentTime')\n    var { items } = this.state;\n    let diffTime = 0;\n    let absTime = 0;\n    let calculatedTime = 0;\n    //if (items.length > 0) {\n      items.map((item, i) => {\n        diffTime = moment().diff(moment(item.pick_up_time));\n        console.log(moment().diff(moment(item.pick_up_time)))\n        //if (diffTime < 0) {\n          absTime = Math.abs(diffTime);\n          calculatedTime = absTime / 1000;\n          calculatedTime = calculatedTime / 60;\n          calculatedTime = parseInt(calculatedTime);\n          console.log(calculatedTime);\n          //if (calculatedTime < 61 ) {\n            modalMsg = item.reservation_id;\n            this.showModal();\n            return false;\n          //}\n        //}\n      });\n    //}\n  };\n\n  snoozeNotification = () => {\n    alert('snoozeNotification')\n  }\n\n  seeNotification = () => {\n    alert('snoozeNotification')\n  }\n\n  _onClickAccept = (e,item) => {\n    this.setState({\n      isLoaded: false\n    });\n    let headerdata = \"\";\n\n    const data = {\n      assigned_to: localStorage.getItem(\"user_id\"),\n      id: item.id,\n      status: 'Accepted'\n    };\n\n    _callApi(data, \"/booking/assignuser\", headerdata, 1).then((response) => {\n      if (response.status === 200) {\n        if (response.data.status === 200) {\n          console.log(response.data.data);\n          this.setState({\n            isLoaded: true\n          });\n          this.accounts(this.state.activePageNo);\n\n        } else {\n          this.setState({ message: response.msg });\n          this.setState({\n            isLoaded: true\n          });\n          setTimeout(() => this.setState({ message: \"\" }), 2000);\n        }\n      }\n    });\n  };\n\n  \n\n  render() {\n    var { isLoaded, items, users } = this.state;\n    return (\n      <>\n        <div className=\"dashboard-wrapper\">\n          <div\n            className={\n              this.state.modalAccess\n                ? \"dashboard-center-popup active\"\n                : \"dashboard-center-popup\"\n            }\n          >\n            <div className=\"dp-backdrop\"></div>\n            <div className=\"dp-content\">\n              <div className=\"dp-body\">\n                <div className=\"dp-popup cus-have-res\">\n                  <div className=\"popup-close\">\n                    <span\n                      className=\"ion-close-round\"\n                      onClick={() => this.onChangeOptionsPlus(false)}\n                    ></span>\n                  </div>\n                  <h4 className=\"popup-title\">\n                    Does the Customer have a reservation?\n                  </h4>\n                  <div className=\"popup-action\">\n                    <NavLink to=\"/checkout/vendors\">\n                      {\" \"}\n                      <button type=\"button\" className=\"pp-custom-btn\">\n                        Yes\n                      </button>\n                    </NavLink>\n                    <NavLink to=\"/checkout/plate_name/0\">\n                      {\" \"}\n                      <button\n                        type=\"button\"\n                        className=\"pp-custom-btn pp-btn-outline\"\n                      >\n                        No\n                      </button>\n                    </NavLink>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div\n            className={\n              this.state.modalAccessStatus\n                ? \"dashboard-center-popup active\"\n                : \"dashboard-center-popup\"\n            }\n          >\n            <div className=\"dp-backdrop\"></div>\n            <div className=\"dp-content\">\n              <div className=\"dp-body\">\n                <div class=\"dp-popup del-ven-name\">\n                  <div class=\"popup-close\">\n                    <span\n                      class=\"ion-close-round\"\n                      onClick={() => this.onChangeOptionsPlus(false)}\n                    ></span>\n                  </div>\n                  <h4 class=\"popup-title\">\n                    Do you want to delete? <span>User Name</span>\n                  </h4>\n                  <div class=\"popup-action\">\n                    <button\n                      type=\"button\"\n                      onClick={() => this.deleteSubadmin()}\n                      class=\"pp-custom-btn\"\n                    >\n                      Yes\n                    </button>\n                    <button\n                      type=\"button\"\n                      onClick={() => this.onChangeOptionsPlus(false)}\n                      class=\"pp-custom-btn pp-btn-outline\"\n                    >\n                      No\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"dc-wrap main-dashboard dashboard-car-status\">\n          <div class=\"dc-header\">\n            <div class=\"dch-left\">\n              <h3 class=\"dc-head\">Car Status</h3>\n            </div>\n            <div class=\"dch-right\">\n              <button\n                type=\"button\"\n                className=\"pp-custom-btn\"\n                onClick={() => this.onChangeOptionsPlus(true)}\n              >\n                Check In\n              </button>\n              <NavLink to=\"/checkout/search\">\n                {\" \"}\n                <button type=\"button\" className=\"pp-custom-btn\">\n                  Check-Out\n                </button>\n              </NavLink>\n              <NavLink to=\"/checkout/modify\">\n                <button type=\"button\" className=\"pp-custom-btn \">\n                  <img src={editImage} />\n                  Modify and search\n                </button>\n              </NavLink>\n              <NavLink to=\"/car_status/list\">\n                <button type=\"button\" class=\"pp-custom-btn\">\n                  Car Status\n                </button>\n              </NavLink>\n            </div>\n          </div>\n          <div class=\"dc-body\">\n            <div class=\"dcb-table-responsive\">\n              <table class=\"custom-table car-type-tbl last-center-tbl\">\n                <thead>\n                  <tr>\n                    <th>\n                      <div class=\"ct-head\">\n                        <p>Customer's name</p>\n                      </div>\n                    </th>\n                    <th>\n                      <div class=\"ct-head\">\n                        <p>Phone Number</p>\n                      </div>\n                    </th>\n                    <th>\n                      <div class=\"ct-head\">\n                        <p>Ticket Id</p>\n                      </div>\n                    </th>\n\n                    <th>\n                      <div class=\"ct-head\">\n                        <p>Reservation ID</p>\n                      </div>\n                    </th>\n                    <th>\n                      <div class=\"ct-head\">\n                        <p>Pick Up Time</p>\n                      </div>\n                    </th>\n                    {this.state.is_admin === \"true\" ? (\n                      <th>\n                        <div class=\"ct-head\">\n                          <p>Assigned to</p>\n                        </div>\n                      </th>\n                    ) : (\n                      \"\"\n                    )}\n                    <th>\n                      <div class=\"ct-head\">\n                        <p>Status</p>\n                      </div>\n                    </th>\n                    <th>\n                      <div class=\"ct-head\">\n                        <p>Action</p>\n                      </div>\n                    </th>\n                \n                  </tr>\n                </thead>\n                <tbody>\n                  {items.length > 0\n                    ? items.map((item, i) => (\n                        <tr>\n                          <td>\n                            <p>{item.customer_name}</p>\n                          </td>\n                          <td>\n                            <p>{item.mobile_number}</p>\n                          </td>\n                          <td>\n                            <p>{item.id}</p>\n                          </td>\n                          <td>\n                            <p>{item.reservation_id}</p>\n                          </td>\n                          <td>\n                            <p>\n                              {moment(item.pick_up_time).format(\"MMM D HH:mm\")}\n                            </p>\n                          </td>\n                          {this.state.is_admin === \"true\" ? (\n                            <td>\n                              <div class=\"sc-input-wrap\">\n                                <div class=\"sc-input\">\n                                  <div class=\"sc-select-wrap\" key={1235}>\n                                    <select\n                                      class=\"sc-custom-form\"\n                                      value={item.assigned_to}\n                                    \n                                      onChange={(e) =>\n                                        this.handleChange(\n                                          e.target.value,\n                                          item.id\n                                        )\n                                      }\n                                    >\n                                      <option value=\"\">Select</option>\n                                      {users.length > 0\n                                        ? users.map((user, i) => ( user.name !== \"\"?\n                                            <option value={user.id}>\n                                              {user.name}\n                                            </option>\n                                            :null\n                                          ))\n                                        : \"\"}\n                                    </select>\n\n                                    <span class=\"ion-ios-arrow-down select-drop-icon\"></span>\n                                  </div>\n                                </div>\n                              </div>\n                            </td>\n                          ) : (\n                            \"\"\n                          )}\n                          <td>\n                            <p>\n                              <span class={\"car-status \" + item.status}>\n                                {item.status}\n                              </span>\n                            </p>\n                          </td>\n                          <td>\n                            {item.status === \"Pending\"\n                              ? <div class=\"car-action-wrap\">\n                                   <span onClick={(e) =>\n                                    this._onClickAccept(\n                                      e.target,\n                                      item\n                                    )\n                                  } \n                                  class=\"car-action accept\"\n                                  >\n                                    Accept\n                                  </span>\n                                 </div>\n                                :\"\"}\n                            {item.status === \"Accepted\" ? (\n                              <div class=\"car-action-wrap\">\n                                <span\n                                  onClick={(e) =>\n                                    this.handleChangeMarkReady(\n                                      e.target,\n                                      item.id\n                                    )\n                                  }\n                                  class=\"car-action mark-ready\"\n                                >\n                                  Mark Ready\n                                </span>\n                                <span\n                                  onClick={(e) =>\n                                    this.handleChangeMarkRject(\n                                      e.target,\n                                      item.id\n                                    )\n                                  }\n                                  class=\"car-action reject\"\n                                >\n                                  Reject\n                                </span>\n                              </div>\n                            ) : (\n                              \"\"\n                            )}\n                            {item.status === \"Ready\" ? (\n                              <div class=\"car-action-wrap\">\n                                <span\n                                  onClick={(e) =>\n                                    this.handleChangeMarkNotReady(\n                                      e.target,\n                                      item.id\n                                    )\n                                  }\n                                  class=\"car-action mark-not-ready\"\n                                >\n                                  Mark Not Ready\n                                </span>\n                              </div>\n                            ) : (\n                              \"\"\n                            )}\n                          </td>\n                        </tr>\n                      ))\n                    : \"\"}\n                </tbody>\n              </table>\n            </div>\n            <NavLink to=\"/dashboard\" onClick={this.viewMoreFunc}>\n              <div class=\"view-more-data\">View More</div>\n            </NavLink>\n       \n          </div>\n          { this.state.isLoaded === false?\n            <div\n              style={{\n                  display: \"flex\",\n                  marginTop: \"20px\",\n                  justifyContent: \"space-between\",\n                  position: \"absolute\", /*position: fixed;*/\n                  top: 0,\n                  left: 0,\n                  width: \"100%\",\n                  height: \"100%\",\n                  }}>\n              <Spinner name=\"double-bounce\" color=\"steelblue\" style={{ width: 100, height: 100, textAlign: \"center\", margin: \"auto\" }} />\n            \n            </div>\n            :null}\n        </div>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  console.log(state.loginDetails);\n  return state;\n}\n\nexport default connect(mapStateToProps)(Dashboard);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAaCAYAAABGiCfwAAAABHNCSVQICAgIfAhkiAAAAgdJREFUSEu1lkFWGkEQhqsaFrrSG0Q2ibiRG2SYCxhP4CTgHk8AnkBdJ8TxBpwA+gYxG3hmIzlBZCW+B11Wt/bYM2FgBod5j/eY6er6+v+nuqYR3nEF995u6QlOUGEAiDWTiuiWBIXdfXmVTI3rsk7/eDWa4XUESSZi6AzpOKzKsR1aC6ZBaoYDRNxdulgN3KZ6WJEPOi43LDPobRXnP6r9Tm5YGoiAbuZb1NIJS1O8RMATy+Kxcbc6qOSCLQNxssAm10VTnop/rr2szDiYycasIAtojnxaC5YbNPRbLOHCgU1YmSmkpcrygr6N/EAAXLuq9Pu0NqfCigAxdDIDVbN7bSGsIBCQUMfdT7KXuqmLAimArz+r/dC1NKZsk6BYgWwaFMFM937E+2SvcyvJtWNR1enxRdb9Z2NjVA/dFqMDigZFypI7fhMgA2uOPA9ADKLGSfC3e9Dfc+Xr/+taF7ORVXX4QTuCOTvePisC9KqsLlngZ5s4+ZKLAr3C4h2a20ulDMA2Cl4AscXIv/i1quqS8fae35mvP9k7aQFpoMad9wXn2E49gzgT9QcUBJ1hc1jv8YSjLDBXUWPojxHhQ5Z5JobPI2hOSXPxa9kkXtlvUaLg+0d5a+PywnQO0xtfgHhpC4W4/AFJEqBUoKR7HItgbCMo7HAzOFylzuQrqVamY8GqZFnHnwEaoFtX1O6VLgAAAABJRU5ErkJggg==\""],"sourceRoot":""}